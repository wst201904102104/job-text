2023-04-28 09:01:23.778 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 09:01:23.792 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 09:01:25.332 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 09:01:25.426 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 09:01:25.427 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 09:01:25.446 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 09:01:26.163 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 09:01:26.165 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 09:01:26.184 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-04-28 09:01:26.417 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=679b229f-469d-35ff-bb64-0a5df119e1b9
2023-04-28 09:01:27.193 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 09:01:27.207 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 09:01:27.207 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 09:01:27.208 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 09:01:27.425 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 09:01:27.426 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1968 ms
2023-04-28 09:01:29.124 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 09:01:30.398 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 09:01:30.437 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 09:01:31.730 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 09:01:31.786 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 09:01:31.836 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 09:01:31.869 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 09:01:31.872 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 09:01:31.892 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 09:01:31.892 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 09:01:31.892 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 09:01:31.892 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 09:01:31.892 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 09:01:31.892 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 09:01:31.892 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 09:01:32.038 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 09:01:32.043 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 09:01:32.048 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 09:01:32.059 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682643692059 with initial instances count: 3
2023-04-28 09:01:32.064 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 09:01:32.065 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682643692065, current=UP, previous=STARTING]
2023-04-28 09:01:32.066 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 09:01:32.066 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 09:01:32.094 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 09:01:32.095 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 09:01:32.109 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 09:01:33.360 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 09:01:33.369 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 11.181 seconds (JVM running for 12.514)
2023-04-28 09:01:33.371 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 09:01:33.371 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 09:06:31.896 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 09:11:31.898 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 09:16:31.899 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 09:20:51.425 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 09:20:51.426 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 09:20:51.427 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 1 ms
2023-04-28 09:20:51.458 INFO  com.douding.server.config.LogAspect               :76   [32mdLRGkyLy[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 09:20:51.459 INFO  com.douding.server.config.LogAspect               :77   [32mdLRGkyLy[0;39m 请求地址: http://localhost:9003/file/admin/file/check/7rAD1LohnaqmmIeEuOYAee GET
2023-04-28 09:20:51.459 INFO  com.douding.server.config.LogAspect               :78   [32mdLRGkyLy[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 09:20:51.460 INFO  com.douding.server.config.LogAspect               :79   [32mdLRGkyLy[0;39m 远程地址: 127.0.0.1
2023-04-28 09:20:51.489 INFO  com.douding.server.config.LogAspect               :97   [32mdLRGkyLy[0;39m 请求参数: ["7rAD1LohnaqmmIeEuOYAee"]
2023-04-28 09:20:51.493 INFO  com.douding.file.controller.admin.UploadController:150  [32mdLRGkyLy[0;39m 检查上传分片开始：7rAD1LohnaqmmIeEuOYAee
2023-04-28 09:20:51.526 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mdLRGkyLy[0;39m HikariPool-1 - Starting...
2023-04-28 09:20:51.627 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mdLRGkyLy[0;39m HikariPool-1 - Start completed.
2023-04-28 09:20:51.631 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mdLRGkyLy[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 09:20:51.647 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mdLRGkyLy[0;39m ==> Parameters: 7rAD1LohnaqmmIeEuOYAee(String)
2023-04-28 09:20:51.662 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mdLRGkyLy[0;39m <==      Total: 0
2023-04-28 09:20:51.688 INFO  com.douding.server.config.LogAspect               :109  [32mdLRGkyLy[0;39m 返回结果: {"success":true}
2023-04-28 09:20:51.688 INFO  com.douding.server.config.LogAspect               :110  [32mdLRGkyLy[0;39m ------------- 结束 耗时：233 ms -------------
2023-04-28 09:20:51.724 INFO  com.douding.server.config.LogAspect               :76   [32mqynghnk4[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 09:20:51.724 INFO  com.douding.server.config.LogAspect               :77   [32mqynghnk4[0;39m 请求地址: http://localhost:9003/file/admin/file/upload POST
2023-04-28 09:20:51.725 INFO  com.douding.server.config.LogAspect               :78   [32mqynghnk4[0;39m 类名方法: com.douding.file.controller.admin.UploadController.upload
2023-04-28 09:20:51.725 INFO  com.douding.server.config.LogAspect               :79   [32mqynghnk4[0;39m 远程地址: 127.0.0.1
2023-04-28 09:20:51.728 INFO  com.douding.server.config.LogAspect               :97   [32mqynghnk4[0;39m 请求参数: [{"key":"7rAD1LohnaqmmIeEuOYAee","name":"httprts6tj99f.bkt.gdipper.comBBF0996FE606066F1204FF6ADD5749C699B8A49C_size151_w1080_h1620.jpeg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":155068,"suffix":"jpeg","use":"T"}]
2023-04-28 09:20:51.745 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mqynghnk4[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 09:20:51.745 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mqynghnk4[0;39m ==> Parameters: 7rAD1LohnaqmmIeEuOYAee(String)
2023-04-28 09:20:51.747 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mqynghnk4[0;39m <==      Total: 0
2023-04-28 09:20:51.747 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mqynghnk4[0;39m ==>  Preparing: insert into file (id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key`) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2023-04-28 09:20:51.749 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mqynghnk4[0;39m ==> Parameters: HKVmpMy7(String), teacher\7rAD1LohnaqmmIeEuOYAee.jpeg(String), httprts6tj99f.bkt.gdipper.comBBF0996FE606066F1204FF6ADD5749C699B8A49C_size151_w1080_h1620.jpeg(String), jpeg(String), 155068(Integer), T(String), 2023-04-28 09:20:51.747(Timestamp), 2023-04-28 09:20:51.747(Timestamp), 1(Integer), 5242880(Integer), 1(Integer), 7rAD1LohnaqmmIeEuOYAee(String)
2023-04-28 09:20:51.752 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mqynghnk4[0;39m <==    Updates: 1
2023-04-28 09:20:51.753 INFO  com.douding.file.controller.admin.UploadController:95   [32mqynghnk4[0;39m 合并分片开始
2023-04-28 09:20:51.767 INFO  com.douding.file.controller.admin.UploadController:128  [32mqynghnk4[0;39m IO流关闭
2023-04-28 09:20:51.768 INFO  com.douding.file.controller.admin.UploadController:133  [32mqynghnk4[0;39m 合并分片结束
2023-04-28 09:20:51.907 INFO  com.douding.file.controller.admin.UploadController:138  [32mqynghnk4[0;39m 删除分片开始
2023-04-28 09:20:51.908 INFO  com.douding.file.controller.admin.UploadController:143  [32mqynghnk4[0;39m 删除/Users/xiaozhe/Downloads/td/teacher\7rAD1LohnaqmmIeEuOYAee.jpeg.1,成功
2023-04-28 09:20:51.908 INFO  com.douding.file.controller.admin.UploadController:145  [32mqynghnk4[0;39m 删除分片结束
2023-04-28 09:20:51.908 INFO  com.douding.server.config.LogAspect               :109  [32mqynghnk4[0;39m 返回结果: {"content":{"key":"7rAD1LohnaqmmIeEuOYAee","name":"httprts6tj99f.bkt.gdipper.comBBF0996FE606066F1204FF6ADD5749C699B8A49C_size151_w1080_h1620.jpeg","path":"teacher\\7rAD1LohnaqmmIeEuOYAee.jpeg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":155068,"suffix":"jpeg","use":"T"},"success":true}
2023-04-28 09:20:51.908 INFO  com.douding.server.config.LogAspect               :110  [32mqynghnk4[0;39m ------------- 结束 耗时：185 ms -------------
2023-04-28 09:21:31.901 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 09:26:31.903 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 09:31:31.904 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 09:36:31.905 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 09:41:31.907 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 09:46:31.909 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 09:51:31.911 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 09:56:31.912 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 10:01:31.915 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 10:06:31.916 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 10:11:31.917 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 10:16:31.918 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 10:21:31.920 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 10:26:31.921 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 10:31:31.923 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 10:36:31.924 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 10:41:31.925 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 10:46:31.927 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 10:51:31.929 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 10:56:31.931 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 11:01:31.933 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 11:06:31.934 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 11:11:31.936 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 11:16:31.937 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 11:21:31.938 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 11:26:31.940 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 11:31:31.941 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 11:36:31.944 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 11:41:33.550 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 11:46:33.551 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 11:51:33.552 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 11:56:33.554 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 12:01:33.556 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 12:06:33.559 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 12:11:33.561 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 12:16:33.562 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 12:21:33.563 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 12:26:33.564 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 12:31:33.565 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 12:36:33.568 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 14:40:51.477 WARN  com.zaxxer.hikari.pool.HikariPool                 :788  [32m        [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2h1m27s702ms191µs300ns).
2023-04-28 15:56:37.095 WARN  com.zaxxer.hikari.pool.HikariPool                 :788  [32m        [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h15m49s395ms693µs100ns).
2023-04-28 15:57:46.880 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 16:02:46.881 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 16:07:46.882 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 16:12:46.883 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 16:17:46.885 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 16:22:46.886 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 16:27:46.887 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 16:32:46.887 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 16:37:46.888 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 16:42:46.890 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 16:47:46.891 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 16:52:46.893 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 16:57:17.443 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 16:57:17.443 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682672237443, current=DOWN, previous=UP]
2023-04-28 16:57:17.443 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 16:57:17.450 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 16:57:17.494 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 16:57:17.495 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 16:57:17.496 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 16:57:20.497 WARN  com.netflix.discovery.TimedSupervisorTask         :90   [32m        [0;39m task supervisor shutting down, can't accept the task
2023-04-28 16:57:20.503 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 16:57:20.506 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 16:57:20.542 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 17:01:09.780 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 17:01:09.801 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 17:01:11.368 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 17:01:11.446 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 17:01:11.447 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 17:01:11.459 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 17:01:11.955 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 17:01:11.956 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 17:01:11.968 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 17:01:12.112 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 17:01:12.700 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 17:01:12.708 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 17:01:12.709 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 17:01:12.709 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 17:01:12.862 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 17:01:12.863 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1393 ms
2023-04-28 17:01:14.129 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 17:01:15.373 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:01:15.414 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 17:01:16.669 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:01:16.739 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 17:01:16.791 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 17:01:16.823 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 17:01:16.826 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 17:01:16.845 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 17:01:16.845 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 17:01:16.845 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 17:01:16.845 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 17:01:16.845 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 17:01:16.845 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 17:01:16.846 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 17:01:17.017 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 17:01:17.022 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 17:01:17.026 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 17:01:17.037 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682672477036 with initial instances count: 4
2023-04-28 17:01:17.041 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 17:01:17.042 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682672477042, current=UP, previous=STARTING]
2023-04-28 17:01:17.043 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 17:01:17.043 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 17:01:17.064 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 17:01:17.065 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 17:01:17.077 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 17:01:18.305 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:01:18.313 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 10.053 seconds (JVM running for 11.374)
2023-04-28 17:01:18.315 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 17:01:18.315 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 17:03:29.716 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 17:03:29.716 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 17:03:29.718 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 1 ms
2023-04-28 17:03:29.747 INFO  com.douding.server.config.LogAspect               :76   [32mumY2aIrs[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 17:03:29.747 INFO  com.douding.server.config.LogAspect               :77   [32mumY2aIrs[0;39m 请求地址: http://localhost:9003/file/admin/file/check/2YVGpBriAGsiIG8icyiiU GET
2023-04-28 17:03:29.747 INFO  com.douding.server.config.LogAspect               :78   [32mumY2aIrs[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 17:03:29.748 INFO  com.douding.server.config.LogAspect               :79   [32mumY2aIrs[0;39m 远程地址: 127.0.0.1
2023-04-28 17:03:29.775 INFO  com.douding.server.config.LogAspect               :97   [32mumY2aIrs[0;39m 请求参数: ["2YVGpBriAGsiIG8icyiiU"]
2023-04-28 17:03:29.778 INFO  com.douding.file.controller.admin.UploadController:154  [32mumY2aIrs[0;39m 检查上传分片开始：2YVGpBriAGsiIG8icyiiU
2023-04-28 17:03:29.810 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mumY2aIrs[0;39m HikariPool-1 - Starting...
2023-04-28 17:03:29.908 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mumY2aIrs[0;39m HikariPool-1 - Start completed.
2023-04-28 17:03:29.912 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mumY2aIrs[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 17:03:29.932 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mumY2aIrs[0;39m ==> Parameters: 2YVGpBriAGsiIG8icyiiU(String)
2023-04-28 17:03:29.947 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mumY2aIrs[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 17:03:29.950 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mumY2aIrs[0;39m <==        Row: NGoRhnsi, teacher\2YVGpBriAGsiIG8icyiiU.png, 7Ds5xR5i7KC8u0UOCGqYw4.png, png, 1453613, T, 2023-04-27 21:44:48.104, 2023-04-27 21:44:48.104, 1, 5242880, 1, 2YVGpBriAGsiIG8icyiiU
2023-04-28 17:03:29.952 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mumY2aIrs[0;39m <==      Total: 1
2023-04-28 17:03:29.991 INFO  com.douding.server.config.LogAspect               :109  [32mumY2aIrs[0;39m 返回结果: {"content":{"createdAt":1682603088104,"id":"NGoRhnsi","key":"2YVGpBriAGsiIG8icyiiU","name":"7Ds5xR5i7KC8u0UOCGqYw4.png","path":"teacher\\2YVGpBriAGsiIG8icyiiU.png","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":1453613,"suffix":"png","updatedAt":1682603088104,"use":"T"},"success":true}
2023-04-28 17:03:29.992 INFO  com.douding.server.config.LogAspect               :110  [32mumY2aIrs[0;39m ------------- 结束 耗时：248 ms -------------
2023-04-28 17:06:16.849 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 17:11:16.852 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 17:12:40.225 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 17:12:40.225 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682673160225, current=DOWN, previous=UP]
2023-04-28 17:12:40.225 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 17:12:40.229 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 17:12:40.274 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 17:12:40.277 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 17:12:40.278 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 17:12:43.286 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 17:12:43.289 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 17:12:43.329 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 17:12:48.961 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 17:12:48.976 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 17:12:50.444 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 17:12:50.521 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 17:12:50.521 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 17:12:50.535 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 17:12:50.997 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 17:12:50.998 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 17:12:51.011 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 17:12:51.167 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 17:12:51.714 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 17:12:51.720 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 17:12:51.720 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 17:12:51.721 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 17:12:51.855 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 17:12:51.855 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1309 ms
2023-04-28 17:12:52.939 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 17:12:54.235 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:12:54.266 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 17:12:55.526 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:12:55.595 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 17:12:55.655 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 17:12:55.687 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 17:12:55.690 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 17:12:55.710 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 17:12:55.710 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 17:12:55.710 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 17:12:55.710 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 17:12:55.710 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 17:12:55.710 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 17:12:55.711 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 17:12:55.865 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 17:12:55.870 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 17:12:55.875 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 17:12:55.884 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682673175884 with initial instances count: 4
2023-04-28 17:12:55.888 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 17:12:55.889 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682673175889, current=UP, previous=STARTING]
2023-04-28 17:12:55.890 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 17:12:55.890 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 17:12:55.912 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 17:12:55.913 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 17:12:55.915 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 17:12:57.165 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:12:57.172 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 9.753 seconds (JVM running for 10.728)
2023-04-28 17:12:57.174 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 17:12:57.174 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 17:13:36.712 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 17:13:36.713 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 17:13:36.714 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 1 ms
2023-04-28 17:13:36.738 INFO  com.douding.server.config.LogAspect               :76   [32mMggnnHpC[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 17:13:36.739 INFO  com.douding.server.config.LogAspect               :77   [32mMggnnHpC[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 17:13:36.739 INFO  com.douding.server.config.LogAspect               :78   [32mMggnnHpC[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 17:13:36.739 INFO  com.douding.server.config.LogAspect               :79   [32mMggnnHpC[0;39m 远程地址: 127.0.0.1
2023-04-28 17:13:36.766 INFO  com.douding.server.config.LogAspect               :97   [32mMggnnHpC[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 17:13:36.769 INFO  com.douding.file.controller.admin.UploadController:154  [32mMggnnHpC[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 17:13:36.801 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mMggnnHpC[0;39m HikariPool-1 - Starting...
2023-04-28 17:13:36.887 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mMggnnHpC[0;39m HikariPool-1 - Start completed.
2023-04-28 17:13:36.892 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mMggnnHpC[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 17:13:36.909 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mMggnnHpC[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 17:13:36.927 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mMggnnHpC[0;39m <==      Total: 0
2023-04-28 17:13:36.964 INFO  com.douding.server.config.LogAspect               :109  [32mMggnnHpC[0;39m 返回结果: {"success":true}
2023-04-28 17:13:36.964 INFO  com.douding.server.config.LogAspect               :110  [32mMggnnHpC[0;39m ------------- 结束 耗时：228 ms -------------
2023-04-28 17:13:37.033 INFO  com.douding.server.config.LogAspect               :76   [32mWMqC3L2o[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 17:13:37.033 INFO  com.douding.server.config.LogAspect               :77   [32mWMqC3L2o[0;39m 请求地址: http://localhost:9003/file/admin/file/upload POST
2023-04-28 17:13:37.033 INFO  com.douding.server.config.LogAspect               :78   [32mWMqC3L2o[0;39m 类名方法: com.douding.file.controller.admin.UploadController.upload
2023-04-28 17:13:37.033 INFO  com.douding.server.config.LogAspect               :79   [32mWMqC3L2o[0;39m 远程地址: 127.0.0.1
2023-04-28 17:13:37.037 INFO  com.douding.server.config.LogAspect               :97   [32mWMqC3L2o[0;39m 请求参数: [{"key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","use":"T"}]
2023-04-28 17:13:37.185 ERROR o.a.c.c.C.[.[.[/file].[dispatcherServlet]         :175  [32mWMqC3L2o[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/file] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null] with root cause
java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null
	at com.douding.file.config.QiniuCloudUtil.upload(QiniuCloudUtil.java:60)
	at com.douding.file.controller.admin.UploadController.upload(UploadController.java:87)
	at com.douding.file.controller.admin.UploadController$$FastClassBySpringCGLIB$$16c1f76f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.douding.server.config.LogAspect.doAround(LogAspect.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.douding.file.controller.admin.UploadController$$EnhancerBySpringCGLIB$$c77285c1.upload(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
2023-04-28 17:14:24.315 INFO  com.douding.server.config.LogAspect               :76   [32m8gK8Z4MT[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 17:14:24.315 INFO  com.douding.server.config.LogAspect               :77   [32m8gK8Z4MT[0;39m 请求地址: http://localhost:9003/file/admin/file/check/CikO7Z7lGeE6wIKoq4CGw GET
2023-04-28 17:14:24.316 INFO  com.douding.server.config.LogAspect               :78   [32m8gK8Z4MT[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 17:14:24.316 INFO  com.douding.server.config.LogAspect               :79   [32m8gK8Z4MT[0;39m 远程地址: 127.0.0.1
2023-04-28 17:14:24.316 INFO  com.douding.server.config.LogAspect               :97   [32m8gK8Z4MT[0;39m 请求参数: ["CikO7Z7lGeE6wIKoq4CGw"]
2023-04-28 17:14:24.317 INFO  com.douding.file.controller.admin.UploadController:154  [32m8gK8Z4MT[0;39m 检查上传分片开始：CikO7Z7lGeE6wIKoq4CGw
2023-04-28 17:14:24.318 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m8gK8Z4MT[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 17:14:24.319 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m8gK8Z4MT[0;39m ==> Parameters: CikO7Z7lGeE6wIKoq4CGw(String)
2023-04-28 17:14:24.320 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m8gK8Z4MT[0;39m <==      Total: 0
2023-04-28 17:14:24.321 INFO  com.douding.server.config.LogAspect               :109  [32m8gK8Z4MT[0;39m 返回结果: {"success":true}
2023-04-28 17:14:24.321 INFO  com.douding.server.config.LogAspect               :110  [32m8gK8Z4MT[0;39m ------------- 结束 耗时：7 ms -------------
2023-04-28 17:14:24.342 INFO  com.douding.server.config.LogAspect               :76   [32mEgm4pPKJ[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 17:14:24.343 INFO  com.douding.server.config.LogAspect               :77   [32mEgm4pPKJ[0;39m 请求地址: http://localhost:9003/file/admin/file/upload POST
2023-04-28 17:14:24.344 INFO  com.douding.server.config.LogAspect               :78   [32mEgm4pPKJ[0;39m 类名方法: com.douding.file.controller.admin.UploadController.upload
2023-04-28 17:14:24.344 INFO  com.douding.server.config.LogAspect               :79   [32mEgm4pPKJ[0;39m 远程地址: 127.0.0.1
2023-04-28 17:14:24.344 INFO  com.douding.server.config.LogAspect               :97   [32mEgm4pPKJ[0;39m 请求参数: [{"key":"CikO7Z7lGeE6wIKoq4CGw","name":"秒杀项目流程.png","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":56059,"suffix":"png","use":"T"}]
2023-04-28 17:14:24.414 ERROR o.a.c.c.C.[.[.[/file].[dispatcherServlet]         :175  [32mEgm4pPKJ[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/file] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null] with root cause
java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null
	at com.douding.file.config.QiniuCloudUtil.upload(QiniuCloudUtil.java:60)
	at com.douding.file.controller.admin.UploadController.upload(UploadController.java:87)
	at com.douding.file.controller.admin.UploadController$$FastClassBySpringCGLIB$$16c1f76f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.douding.server.config.LogAspect.doAround(LogAspect.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.douding.file.controller.admin.UploadController$$EnhancerBySpringCGLIB$$c77285c1.upload(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
2023-04-28 17:15:05.647 INFO  com.douding.server.config.LogAspect               :76   [32mtNtzZw3W[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 17:15:05.648 INFO  com.douding.server.config.LogAspect               :77   [32mtNtzZw3W[0;39m 请求地址: http://localhost:9003/file/admin/file/check/CikO7Z7lGeE6wIKoq4CGw GET
2023-04-28 17:15:05.648 INFO  com.douding.server.config.LogAspect               :78   [32mtNtzZw3W[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 17:15:05.648 INFO  com.douding.server.config.LogAspect               :79   [32mtNtzZw3W[0;39m 远程地址: 127.0.0.1
2023-04-28 17:15:05.649 INFO  com.douding.server.config.LogAspect               :97   [32mtNtzZw3W[0;39m 请求参数: ["CikO7Z7lGeE6wIKoq4CGw"]
2023-04-28 17:15:05.649 INFO  com.douding.file.controller.admin.UploadController:154  [32mtNtzZw3W[0;39m 检查上传分片开始：CikO7Z7lGeE6wIKoq4CGw
2023-04-28 17:15:05.651 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mtNtzZw3W[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 17:15:05.652 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mtNtzZw3W[0;39m ==> Parameters: CikO7Z7lGeE6wIKoq4CGw(String)
2023-04-28 17:15:05.653 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mtNtzZw3W[0;39m <==      Total: 0
2023-04-28 17:15:05.654 INFO  com.douding.server.config.LogAspect               :109  [32mtNtzZw3W[0;39m 返回结果: {"success":true}
2023-04-28 17:15:05.654 INFO  com.douding.server.config.LogAspect               :110  [32mtNtzZw3W[0;39m ------------- 结束 耗时：7 ms -------------
2023-04-28 17:15:05.673 INFO  com.douding.server.config.LogAspect               :76   [32mItJaOvvN[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 17:15:05.673 INFO  com.douding.server.config.LogAspect               :77   [32mItJaOvvN[0;39m 请求地址: http://localhost:9003/file/admin/file/upload POST
2023-04-28 17:15:05.674 INFO  com.douding.server.config.LogAspect               :78   [32mItJaOvvN[0;39m 类名方法: com.douding.file.controller.admin.UploadController.upload
2023-04-28 17:15:05.674 INFO  com.douding.server.config.LogAspect               :79   [32mItJaOvvN[0;39m 远程地址: 127.0.0.1
2023-04-28 17:15:05.674 INFO  com.douding.server.config.LogAspect               :97   [32mItJaOvvN[0;39m 请求参数: [{"key":"CikO7Z7lGeE6wIKoq4CGw","name":"秒杀项目流程.png","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":56059,"suffix":"png","use":"T"}]
2023-04-28 17:15:05.728 ERROR o.a.c.c.C.[.[.[/file].[dispatcherServlet]         :175  [32mItJaOvvN[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/file] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null] with root cause
java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null
	at com.douding.file.config.QiniuCloudUtil.upload(QiniuCloudUtil.java:60)
	at com.douding.file.controller.admin.UploadController.upload(UploadController.java:87)
	at com.douding.file.controller.admin.UploadController$$FastClassBySpringCGLIB$$16c1f76f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.douding.server.config.LogAspect.doAround(LogAspect.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.douding.file.controller.admin.UploadController$$EnhancerBySpringCGLIB$$c77285c1.upload(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
2023-04-28 17:15:39.997 INFO  com.douding.server.config.LogAspect               :76   [32mx6yIpIsh[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 17:15:39.997 INFO  com.douding.server.config.LogAspect               :77   [32mx6yIpIsh[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 17:15:39.998 INFO  com.douding.server.config.LogAspect               :78   [32mx6yIpIsh[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 17:15:39.998 INFO  com.douding.server.config.LogAspect               :79   [32mx6yIpIsh[0;39m 远程地址: 127.0.0.1
2023-04-28 17:15:39.998 INFO  com.douding.server.config.LogAspect               :97   [32mx6yIpIsh[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 17:15:39.998 INFO  com.douding.file.controller.admin.UploadController:154  [32mx6yIpIsh[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 17:15:40.000 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mx6yIpIsh[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 17:15:40.000 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mx6yIpIsh[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 17:15:40.001 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mx6yIpIsh[0;39m <==      Total: 0
2023-04-28 17:15:40.002 INFO  com.douding.server.config.LogAspect               :109  [32mx6yIpIsh[0;39m 返回结果: {"success":true}
2023-04-28 17:15:40.002 INFO  com.douding.server.config.LogAspect               :110  [32mx6yIpIsh[0;39m ------------- 结束 耗时：5 ms -------------
2023-04-28 17:15:40.039 INFO  com.douding.server.config.LogAspect               :76   [32m4AbUawd4[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 17:15:40.039 INFO  com.douding.server.config.LogAspect               :77   [32m4AbUawd4[0;39m 请求地址: http://localhost:9003/file/admin/file/upload POST
2023-04-28 17:15:40.040 INFO  com.douding.server.config.LogAspect               :78   [32m4AbUawd4[0;39m 类名方法: com.douding.file.controller.admin.UploadController.upload
2023-04-28 17:15:40.040 INFO  com.douding.server.config.LogAspect               :79   [32m4AbUawd4[0;39m 远程地址: 127.0.0.1
2023-04-28 17:15:40.041 INFO  com.douding.server.config.LogAspect               :97   [32m4AbUawd4[0;39m 请求参数: [{"key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","use":"T"}]
2023-04-28 17:15:40.109 ERROR o.a.c.c.C.[.[.[/file].[dispatcherServlet]         :175  [32m4AbUawd4[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/file] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null] with root cause
java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null
	at com.douding.file.config.QiniuCloudUtil.upload(QiniuCloudUtil.java:60)
	at com.douding.file.controller.admin.UploadController.upload(UploadController.java:87)
	at com.douding.file.controller.admin.UploadController$$FastClassBySpringCGLIB$$16c1f76f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.douding.server.config.LogAspect.doAround(LogAspect.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.douding.file.controller.admin.UploadController$$EnhancerBySpringCGLIB$$c77285c1.upload(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
2023-04-28 17:17:55.713 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 17:19:40.612 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 17:19:40.613 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682673580613, current=DOWN, previous=UP]
2023-04-28 17:19:40.613 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 17:19:40.620 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 17:19:40.673 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 17:19:40.678 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 17:19:40.679 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 17:19:43.687 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 17:19:43.691 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 17:19:43.731 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 17:19:49.615 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 17:19:49.630 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 17:19:51.082 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 17:19:51.154 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 17:19:51.156 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 17:19:51.172 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 17:19:51.655 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 17:19:51.657 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 17:19:51.669 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 17:19:51.831 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 17:19:52.385 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 17:19:52.392 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 17:19:52.392 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 17:19:52.393 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 17:19:52.524 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 17:19:52.524 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1339 ms
2023-04-28 17:19:53.585 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 17:19:54.831 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:19:54.865 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 17:19:56.120 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:19:56.191 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 17:19:56.246 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 17:19:56.278 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 17:19:56.280 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 17:19:56.298 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 17:19:56.299 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 17:19:56.299 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 17:19:56.299 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 17:19:56.299 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 17:19:56.299 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 17:19:56.299 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 17:19:56.451 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 17:19:56.456 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 17:19:56.461 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 17:19:56.472 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682673596472 with initial instances count: 4
2023-04-28 17:19:56.477 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 17:19:56.477 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682673596477, current=UP, previous=STARTING]
2023-04-28 17:19:56.478 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 17:19:56.479 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 17:19:56.501 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 17:19:56.501 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 17:19:56.508 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 17:19:57.793 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:19:57.800 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 9.706 seconds (JVM running for 10.736)
2023-04-28 17:19:57.802 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 17:19:57.802 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 17:20:47.719 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 17:20:47.719 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 17:20:47.721 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 1 ms
2023-04-28 17:20:47.748 INFO  com.douding.server.config.LogAspect               :76   [32mjfUyf8sh[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 17:20:47.749 INFO  com.douding.server.config.LogAspect               :77   [32mjfUyf8sh[0;39m 请求地址: http://localhost:9003/file/admin/file/check/2YVGpBriAGsiIG8icyiiU GET
2023-04-28 17:20:47.749 INFO  com.douding.server.config.LogAspect               :78   [32mjfUyf8sh[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 17:20:47.749 INFO  com.douding.server.config.LogAspect               :79   [32mjfUyf8sh[0;39m 远程地址: 127.0.0.1
2023-04-28 17:20:47.781 INFO  com.douding.server.config.LogAspect               :97   [32mjfUyf8sh[0;39m 请求参数: ["2YVGpBriAGsiIG8icyiiU"]
2023-04-28 17:20:47.784 INFO  com.douding.file.controller.admin.UploadController:154  [32mjfUyf8sh[0;39m 检查上传分片开始：2YVGpBriAGsiIG8icyiiU
2023-04-28 17:20:47.818 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mjfUyf8sh[0;39m HikariPool-1 - Starting...
2023-04-28 17:20:47.902 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mjfUyf8sh[0;39m HikariPool-1 - Start completed.
2023-04-28 17:20:47.909 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mjfUyf8sh[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 17:20:47.934 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mjfUyf8sh[0;39m ==> Parameters: 2YVGpBriAGsiIG8icyiiU(String)
2023-04-28 17:20:47.955 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mjfUyf8sh[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 17:20:47.959 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mjfUyf8sh[0;39m <==        Row: NGoRhnsi, teacher\2YVGpBriAGsiIG8icyiiU.png, 7Ds5xR5i7KC8u0UOCGqYw4.png, png, 1453613, T, 2023-04-27 21:44:48.104, 2023-04-27 21:44:48.104, 1, 5242880, 1, 2YVGpBriAGsiIG8icyiiU
2023-04-28 17:20:47.961 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mjfUyf8sh[0;39m <==      Total: 1
2023-04-28 17:20:48.010 INFO  com.douding.server.config.LogAspect               :109  [32mjfUyf8sh[0;39m 返回结果: {"content":{"createdAt":1682603088104,"id":"NGoRhnsi","key":"2YVGpBriAGsiIG8icyiiU","name":"7Ds5xR5i7KC8u0UOCGqYw4.png","path":"teacher\\2YVGpBriAGsiIG8icyiiU.png","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":1453613,"suffix":"png","updatedAt":1682603088104,"use":"T"},"success":true}
2023-04-28 17:20:48.010 INFO  com.douding.server.config.LogAspect               :110  [32mjfUyf8sh[0;39m ------------- 结束 耗时：264 ms -------------
2023-04-28 17:24:56.302 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 17:29:56.304 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 17:33:51.993 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 17:33:51.993 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682674431993, current=DOWN, previous=UP]
2023-04-28 17:33:51.993 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 17:33:51.998 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 17:33:52.039 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 17:33:52.043 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 17:33:52.043 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 17:33:55.052 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 17:33:55.053 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 17:33:55.097 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 17:34:01.786 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 17:34:01.799 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 17:34:03.251 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 17:34:03.325 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 17:34:03.325 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 17:34:03.339 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 17:34:03.807 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 17:34:03.808 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 17:34:03.820 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 17:34:03.986 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 17:34:04.621 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 17:34:04.627 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 17:34:04.628 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 17:34:04.628 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 17:34:04.764 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 17:34:04.764 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1415 ms
2023-04-28 17:34:05.846 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 17:34:07.093 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:34:07.125 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 17:34:08.379 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:34:08.449 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 17:34:08.497 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 17:34:08.530 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 17:34:08.532 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 17:34:08.550 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 17:34:08.551 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 17:34:08.551 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 17:34:08.551 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 17:34:08.551 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 17:34:08.551 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 17:34:08.551 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 17:34:08.701 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 17:34:08.707 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 17:34:08.711 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 17:34:08.721 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682674448720 with initial instances count: 5
2023-04-28 17:34:08.725 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 17:34:08.725 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682674448725, current=UP, previous=STARTING]
2023-04-28 17:34:08.726 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 17:34:08.727 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 17:34:08.749 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 17:34:08.750 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 17:34:08.755 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 17:34:09.988 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:34:09.996 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 9.734 seconds (JVM running for 10.749)
2023-04-28 17:34:09.998 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 17:34:09.998 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 17:34:51.171 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 17:34:51.171 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 17:34:51.173 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 2 ms
2023-04-28 17:34:51.198 INFO  com.douding.server.config.LogAspect               :76   [32mPD4hu8LT[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 17:34:51.198 INFO  com.douding.server.config.LogAspect               :77   [32mPD4hu8LT[0;39m 请求地址: http://localhost:9003/file/admin/file/check/2YVGpBriAGsiIG8icyiiU GET
2023-04-28 17:34:51.199 INFO  com.douding.server.config.LogAspect               :78   [32mPD4hu8LT[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 17:34:51.199 INFO  com.douding.server.config.LogAspect               :79   [32mPD4hu8LT[0;39m 远程地址: 127.0.0.1
2023-04-28 17:34:51.226 INFO  com.douding.server.config.LogAspect               :97   [32mPD4hu8LT[0;39m 请求参数: ["2YVGpBriAGsiIG8icyiiU"]
2023-04-28 17:34:51.229 INFO  com.douding.file.controller.admin.UploadController:154  [32mPD4hu8LT[0;39m 检查上传分片开始：2YVGpBriAGsiIG8icyiiU
2023-04-28 17:34:51.263 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mPD4hu8LT[0;39m HikariPool-1 - Starting...
2023-04-28 17:34:51.351 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mPD4hu8LT[0;39m HikariPool-1 - Start completed.
2023-04-28 17:34:51.355 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mPD4hu8LT[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 17:34:51.370 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mPD4hu8LT[0;39m ==> Parameters: 2YVGpBriAGsiIG8icyiiU(String)
2023-04-28 17:34:51.388 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mPD4hu8LT[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 17:34:51.392 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mPD4hu8LT[0;39m <==        Row: NGoRhnsi, teacher\2YVGpBriAGsiIG8icyiiU.png, 7Ds5xR5i7KC8u0UOCGqYw4.png, png, 1453613, T, 2023-04-27 21:44:48.104, 2023-04-27 21:44:48.104, 1, 5242880, 1, 2YVGpBriAGsiIG8icyiiU
2023-04-28 17:34:51.393 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mPD4hu8LT[0;39m <==      Total: 1
2023-04-28 17:34:51.440 INFO  com.douding.server.config.LogAspect               :109  [32mPD4hu8LT[0;39m 返回结果: {"content":{"createdAt":1682603088104,"id":"NGoRhnsi","key":"2YVGpBriAGsiIG8icyiiU","name":"7Ds5xR5i7KC8u0UOCGqYw4.png","path":"teacher\\2YVGpBriAGsiIG8icyiiU.png","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":1453613,"suffix":"png","updatedAt":1682603088104,"use":"T"},"success":true}
2023-04-28 17:34:51.440 INFO  com.douding.server.config.LogAspect               :110  [32mPD4hu8LT[0;39m ------------- 结束 耗时：244 ms -------------
2023-04-28 17:39:08.554 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 17:44:08.555 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 17:49:08.556 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 17:53:08.965 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 17:53:08.966 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682675588966, current=DOWN, previous=UP]
2023-04-28 17:53:08.966 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 17:53:08.968 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 17:53:09.013 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 17:53:09.017 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 17:53:09.017 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 17:53:12.025 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 17:53:12.028 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 17:53:12.068 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 17:53:18.008 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 17:53:18.025 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 17:53:19.586 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 17:53:19.658 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 17:53:19.658 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 17:53:19.671 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 17:53:20.111 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 17:53:20.113 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 17:53:20.126 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 17:53:20.266 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 17:53:20.811 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 17:53:20.817 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 17:53:20.817 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 17:53:20.818 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 17:53:20.948 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 17:53:20.949 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1267 ms
2023-04-28 17:53:22.072 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 17:53:23.314 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:53:23.350 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 17:53:24.638 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:53:24.712 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 17:53:24.765 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 17:53:24.796 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 17:53:24.799 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 17:53:24.817 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 17:53:24.818 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 17:53:24.818 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 17:53:24.818 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 17:53:24.818 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 17:53:24.818 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 17:53:24.818 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 17:53:24.966 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 17:53:24.971 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 17:53:24.976 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 17:53:24.986 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682675604985 with initial instances count: 4
2023-04-28 17:53:24.990 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 17:53:24.991 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682675604991, current=UP, previous=STARTING]
2023-04-28 17:53:24.991 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 17:53:24.992 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 17:53:25.014 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 17:53:25.015 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 17:53:25.027 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 17:53:26.261 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:53:26.270 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 9.782 seconds (JVM running for 10.964)
2023-04-28 17:53:26.272 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 17:53:26.272 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 17:54:00.063 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 17:54:00.063 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 17:54:00.065 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 2 ms
2023-04-28 17:54:00.088 INFO  com.douding.server.config.LogAspect               :76   [32mHLNk2Noj[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 17:54:00.089 INFO  com.douding.server.config.LogAspect               :77   [32mHLNk2Noj[0;39m 请求地址: http://localhost:9003/file/admin/file/check/2YVGpBriAGsiIG8icyiiU GET
2023-04-28 17:54:00.089 INFO  com.douding.server.config.LogAspect               :78   [32mHLNk2Noj[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 17:54:00.089 INFO  com.douding.server.config.LogAspect               :79   [32mHLNk2Noj[0;39m 远程地址: 127.0.0.1
2023-04-28 17:54:00.115 INFO  com.douding.server.config.LogAspect               :97   [32mHLNk2Noj[0;39m 请求参数: ["2YVGpBriAGsiIG8icyiiU"]
2023-04-28 17:54:00.117 INFO  com.douding.file.controller.admin.UploadController:154  [32mHLNk2Noj[0;39m 检查上传分片开始：2YVGpBriAGsiIG8icyiiU
2023-04-28 17:54:00.148 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mHLNk2Noj[0;39m HikariPool-1 - Starting...
2023-04-28 17:54:00.236 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mHLNk2Noj[0;39m HikariPool-1 - Start completed.
2023-04-28 17:54:00.240 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mHLNk2Noj[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 17:54:00.257 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mHLNk2Noj[0;39m ==> Parameters: 2YVGpBriAGsiIG8icyiiU(String)
2023-04-28 17:54:00.275 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mHLNk2Noj[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 17:54:00.279 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mHLNk2Noj[0;39m <==        Row: NGoRhnsi, teacher\2YVGpBriAGsiIG8icyiiU.png, 7Ds5xR5i7KC8u0UOCGqYw4.png, png, 1453613, T, 2023-04-27 21:44:48.104, 2023-04-27 21:44:48.104, 1, 5242880, 1, 2YVGpBriAGsiIG8icyiiU
2023-04-28 17:54:00.281 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mHLNk2Noj[0;39m <==      Total: 1
2023-04-28 17:54:00.324 INFO  com.douding.server.config.LogAspect               :109  [32mHLNk2Noj[0;39m 返回结果: {"content":{"createdAt":1682603088104,"id":"NGoRhnsi","key":"2YVGpBriAGsiIG8icyiiU","name":"7Ds5xR5i7KC8u0UOCGqYw4.png","path":"teacher\\2YVGpBriAGsiIG8icyiiU.png","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":1453613,"suffix":"png","updatedAt":1682603088104,"use":"T"},"success":true}
2023-04-28 17:54:00.324 INFO  com.douding.server.config.LogAspect               :110  [32mHLNk2Noj[0;39m ------------- 结束 耗时：238 ms -------------
2023-04-28 17:55:26.690 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 17:55:26.690 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682675726690, current=DOWN, previous=UP]
2023-04-28 17:55:26.691 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 17:55:26.696 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 17:55:26.739 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 17:55:26.743 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 17:55:26.743 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 17:55:29.752 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 17:55:29.755 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 17:55:29.798 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 17:55:35.525 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 17:55:35.542 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 17:55:37.002 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 17:55:37.071 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 17:55:37.072 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 17:55:37.084 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 17:55:37.513 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 17:55:37.514 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 17:55:37.526 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 17:55:37.669 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 17:55:38.219 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 17:55:38.234 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 17:55:38.234 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 17:55:38.234 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 17:55:38.375 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 17:55:38.375 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1280 ms
2023-04-28 17:55:39.438 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 17:55:40.683 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:55:40.717 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 17:55:41.974 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:55:42.044 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 17:55:42.106 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 17:55:42.141 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 17:55:42.144 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 17:55:42.163 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 17:55:42.163 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 17:55:42.163 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 17:55:42.163 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 17:55:42.164 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 17:55:42.164 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 17:55:42.164 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 17:55:42.329 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 17:55:42.334 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 17:55:42.338 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 17:55:42.348 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682675742347 with initial instances count: 5
2023-04-28 17:55:42.352 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 17:55:42.352 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682675742352, current=UP, previous=STARTING]
2023-04-28 17:55:42.353 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 17:55:42.354 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 17:55:42.374 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 17:55:42.374 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 17:55:42.379 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 17:55:43.610 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 17:55:43.617 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 9.609 seconds (JVM running for 10.614)
2023-04-28 17:55:43.619 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 17:55:43.619 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 17:56:37.950 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 17:56:37.950 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 17:56:37.952 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 2 ms
2023-04-28 17:56:37.976 INFO  com.douding.server.config.LogAspect               :76   [32mlWrTaIrJ[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 17:56:37.976 INFO  com.douding.server.config.LogAspect               :77   [32mlWrTaIrJ[0;39m 请求地址: http://localhost:9003/file/admin/file/check/2YVGpBriAGsiIG8icyiiU GET
2023-04-28 17:56:37.977 INFO  com.douding.server.config.LogAspect               :78   [32mlWrTaIrJ[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 17:56:37.977 INFO  com.douding.server.config.LogAspect               :79   [32mlWrTaIrJ[0;39m 远程地址: 127.0.0.1
2023-04-28 17:56:38.002 INFO  com.douding.server.config.LogAspect               :97   [32mlWrTaIrJ[0;39m 请求参数: ["2YVGpBriAGsiIG8icyiiU"]
2023-04-28 17:56:38.005 INFO  com.douding.file.controller.admin.UploadController:154  [32mlWrTaIrJ[0;39m 检查上传分片开始：2YVGpBriAGsiIG8icyiiU
2023-04-28 17:56:38.037 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mlWrTaIrJ[0;39m HikariPool-1 - Starting...
2023-04-28 17:56:38.129 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mlWrTaIrJ[0;39m HikariPool-1 - Start completed.
2023-04-28 17:56:38.133 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mlWrTaIrJ[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 17:56:38.149 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mlWrTaIrJ[0;39m ==> Parameters: 2YVGpBriAGsiIG8icyiiU(String)
2023-04-28 17:56:38.162 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mlWrTaIrJ[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 17:56:38.165 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mlWrTaIrJ[0;39m <==        Row: NGoRhnsi, teacher\2YVGpBriAGsiIG8icyiiU.png, 7Ds5xR5i7KC8u0UOCGqYw4.png, png, 1453613, T, 2023-04-27 21:44:48.104, 2023-04-27 21:44:48.104, 1, 5242880, 1, 2YVGpBriAGsiIG8icyiiU
2023-04-28 17:56:38.167 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mlWrTaIrJ[0;39m <==      Total: 1
2023-04-28 17:56:38.211 INFO  com.douding.server.config.LogAspect               :109  [32mlWrTaIrJ[0;39m 返回结果: {"content":{"createdAt":1682603088104,"id":"NGoRhnsi","key":"2YVGpBriAGsiIG8icyiiU","name":"7Ds5xR5i7KC8u0UOCGqYw4.png","path":"teacher\\2YVGpBriAGsiIG8icyiiU.png","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":1453613,"suffix":"png","updatedAt":1682603088104,"use":"T"},"success":true}
2023-04-28 17:56:38.212 INFO  com.douding.server.config.LogAspect               :110  [32mlWrTaIrJ[0;39m ------------- 结束 耗时：238 ms -------------
2023-04-28 18:00:29.769 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 18:00:29.770 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682676029770, current=DOWN, previous=UP]
2023-04-28 18:00:29.770 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:00:29.777 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:00:29.816 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 18:00:29.820 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 18:00:29.820 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 18:00:32.829 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 18:00:32.832 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 18:00:32.869 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 18:00:38.667 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 18:00:38.680 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 18:00:40.146 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 18:00:40.219 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 18:00:40.220 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 18:00:40.233 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 18:00:40.671 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 18:00:40.672 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 18:00:40.684 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 18:00:40.825 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 18:00:41.368 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 18:00:41.374 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 18:00:41.374 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 18:00:41.374 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 18:00:41.504 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 18:00:41.504 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1259 ms
2023-04-28 18:00:42.628 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 18:00:43.881 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:00:43.916 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 18:00:45.182 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:00:45.252 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 18:00:45.306 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 18:00:45.338 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 18:00:45.341 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:00:45.359 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 18:00:45.359 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 18:00:45.359 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 18:00:45.359 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 18:00:45.359 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 18:00:45.359 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 18:00:45.359 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 18:00:45.523 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 18:00:45.528 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 18:00:45.533 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 18:00:45.543 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682676045542 with initial instances count: 4
2023-04-28 18:00:45.547 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 18:00:45.547 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682676045547, current=UP, previous=STARTING]
2023-04-28 18:00:45.548 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:00:45.549 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 18:00:45.572 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 18:00:45.572 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 18:00:45.583 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:00:46.810 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:00:46.817 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 9.669 seconds (JVM running for 10.797)
2023-04-28 18:00:46.819 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 18:00:46.819 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 18:01:55.517 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 18:01:55.517 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 18:01:55.519 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 1 ms
2023-04-28 18:01:55.545 INFO  com.douding.server.config.LogAspect               :76   [32mBxsdzuYf[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:01:55.546 INFO  com.douding.server.config.LogAspect               :77   [32mBxsdzuYf[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 18:01:55.546 INFO  com.douding.server.config.LogAspect               :78   [32mBxsdzuYf[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:01:55.546 INFO  com.douding.server.config.LogAspect               :79   [32mBxsdzuYf[0;39m 远程地址: 127.0.0.1
2023-04-28 18:01:55.573 INFO  com.douding.server.config.LogAspect               :97   [32mBxsdzuYf[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 18:01:55.581 INFO  com.douding.file.controller.admin.UploadController:154  [32mBxsdzuYf[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:01:55.612 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mBxsdzuYf[0;39m HikariPool-1 - Starting...
2023-04-28 18:01:55.707 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mBxsdzuYf[0;39m HikariPool-1 - Start completed.
2023-04-28 18:01:55.712 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mBxsdzuYf[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:01:55.732 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mBxsdzuYf[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 18:01:55.749 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mBxsdzuYf[0;39m <==      Total: 0
2023-04-28 18:01:55.789 INFO  com.douding.server.config.LogAspect               :109  [32mBxsdzuYf[0;39m 返回结果: {"success":true}
2023-04-28 18:01:55.789 INFO  com.douding.server.config.LogAspect               :110  [32mBxsdzuYf[0;39m ------------- 结束 耗时：246 ms -------------
2023-04-28 18:01:55.851 INFO  com.douding.server.config.LogAspect               :76   [32mlsNm0oQg[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:01:55.851 INFO  com.douding.server.config.LogAspect               :77   [32mlsNm0oQg[0;39m 请求地址: http://localhost:9003/file/admin/file/upload POST
2023-04-28 18:01:55.851 INFO  com.douding.server.config.LogAspect               :78   [32mlsNm0oQg[0;39m 类名方法: com.douding.file.controller.admin.UploadController.upload
2023-04-28 18:01:55.851 INFO  com.douding.server.config.LogAspect               :79   [32mlsNm0oQg[0;39m 远程地址: 127.0.0.1
2023-04-28 18:01:55.854 INFO  com.douding.server.config.LogAspect               :97   [32mlsNm0oQg[0;39m 请求参数: [{"key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","use":"T"}]
2023-04-28 18:01:56.015 ERROR o.a.c.c.C.[.[.[/file].[dispatcherServlet]         :175  [32mlsNm0oQg[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/file] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null] with root cause
java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null
	at com.douding.file.config.QiniuCloudUtil.upload(QiniuCloudUtil.java:60)
	at com.douding.file.controller.admin.UploadController.upload(UploadController.java:87)
	at com.douding.file.controller.admin.UploadController$$FastClassBySpringCGLIB$$16c1f76f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.douding.server.config.LogAspect.doAround(LogAspect.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.douding.file.controller.admin.UploadController$$EnhancerBySpringCGLIB$$f9f9587e.upload(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
2023-04-28 18:03:11.695 INFO  com.douding.server.config.LogAspect               :76   [32mA4tJ4zav[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:03:11.696 INFO  com.douding.server.config.LogAspect               :77   [32mA4tJ4zav[0;39m 请求地址: http://localhost:9003/file/admin/file/check/4EcnA6h7YKEQUoeWCOUoo GET
2023-04-28 18:03:11.696 INFO  com.douding.server.config.LogAspect               :78   [32mA4tJ4zav[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:03:11.696 INFO  com.douding.server.config.LogAspect               :79   [32mA4tJ4zav[0;39m 远程地址: 127.0.0.1
2023-04-28 18:03:11.697 INFO  com.douding.server.config.LogAspect               :97   [32mA4tJ4zav[0;39m 请求参数: ["4EcnA6h7YKEQUoeWCOUoo"]
2023-04-28 18:03:11.697 INFO  com.douding.file.controller.admin.UploadController:154  [32mA4tJ4zav[0;39m 检查上传分片开始：4EcnA6h7YKEQUoeWCOUoo
2023-04-28 18:03:11.699 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mA4tJ4zav[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:03:11.700 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mA4tJ4zav[0;39m ==> Parameters: 4EcnA6h7YKEQUoeWCOUoo(String)
2023-04-28 18:03:11.701 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mA4tJ4zav[0;39m <==      Total: 0
2023-04-28 18:03:11.702 INFO  com.douding.server.config.LogAspect               :109  [32mA4tJ4zav[0;39m 返回结果: {"success":true}
2023-04-28 18:03:11.702 INFO  com.douding.server.config.LogAspect               :110  [32mA4tJ4zav[0;39m ------------- 结束 耗时：7 ms -------------
2023-04-28 18:03:11.721 INFO  com.douding.server.config.LogAspect               :76   [32mGXXrPvpa[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:03:11.721 INFO  com.douding.server.config.LogAspect               :77   [32mGXXrPvpa[0;39m 请求地址: http://localhost:9003/file/admin/file/upload POST
2023-04-28 18:03:11.721 INFO  com.douding.server.config.LogAspect               :78   [32mGXXrPvpa[0;39m 类名方法: com.douding.file.controller.admin.UploadController.upload
2023-04-28 18:03:11.722 INFO  com.douding.server.config.LogAspect               :79   [32mGXXrPvpa[0;39m 远程地址: 127.0.0.1
2023-04-28 18:03:11.722 INFO  com.douding.server.config.LogAspect               :97   [32mGXXrPvpa[0;39m 请求参数: [{"key":"4EcnA6h7YKEQUoeWCOUoo","name":"死性队列延迟通知.png","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":45926,"suffix":"png","use":"T"}]
2023-04-28 18:03:11.850 ERROR o.a.c.c.C.[.[.[/file].[dispatcherServlet]         :175  [32mGXXrPvpa[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/file] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null] with root cause
java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null
	at com.douding.file.config.QiniuCloudUtil.upload(QiniuCloudUtil.java:60)
	at com.douding.file.controller.admin.UploadController.upload(UploadController.java:87)
	at com.douding.file.controller.admin.UploadController$$FastClassBySpringCGLIB$$16c1f76f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.douding.server.config.LogAspect.doAround(LogAspect.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.douding.file.controller.admin.UploadController$$EnhancerBySpringCGLIB$$f9f9587e.upload(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
2023-04-28 18:05:45.362 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:05:46.015 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 18:05:46.016 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682676346016, current=DOWN, previous=UP]
2023-04-28 18:05:46.016 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:05:46.018 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:05:46.061 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 18:05:46.065 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 18:05:46.066 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 18:05:49.073 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 18:05:49.076 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 18:05:49.116 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 18:05:55.423 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 18:05:55.437 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 18:05:56.908 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 18:05:56.980 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 18:05:56.981 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 18:05:56.994 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 18:05:57.424 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 18:05:57.425 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 18:05:57.440 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2023-04-28 18:05:57.585 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 18:05:58.141 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 18:05:58.154 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 18:05:58.154 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 18:05:58.155 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 18:05:58.323 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 18:05:58.324 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1319 ms
2023-04-28 18:05:59.445 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 18:06:00.690 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:06:00.727 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 18:06:01.991 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:06:02.058 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 18:06:02.115 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 18:06:02.147 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 18:06:02.150 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:06:02.168 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 18:06:02.169 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 18:06:02.169 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 18:06:02.169 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 18:06:02.169 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 18:06:02.169 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 18:06:02.169 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 18:06:02.312 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 18:06:02.317 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 18:06:02.322 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 18:06:02.332 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682676362332 with initial instances count: 5
2023-04-28 18:06:02.337 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 18:06:02.337 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682676362337, current=UP, previous=STARTING]
2023-04-28 18:06:02.338 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:06:02.338 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 18:06:02.360 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 18:06:02.361 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 18:06:02.362 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:06:03.598 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:06:03.622 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 9.745 seconds (JVM running for 11.26)
2023-04-28 18:06:03.627 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 18:06:03.627 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 18:07:30.700 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 18:07:30.700 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 18:07:30.701 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 1 ms
2023-04-28 18:07:30.734 INFO  com.douding.server.config.LogAspect               :76   [32mvzEYyYxx[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:07:30.735 INFO  com.douding.server.config.LogAspect               :77   [32mvzEYyYxx[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 18:07:30.735 INFO  com.douding.server.config.LogAspect               :78   [32mvzEYyYxx[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:07:30.735 INFO  com.douding.server.config.LogAspect               :79   [32mvzEYyYxx[0;39m 远程地址: 127.0.0.1
2023-04-28 18:07:30.765 INFO  com.douding.server.config.LogAspect               :97   [32mvzEYyYxx[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 18:07:30.768 INFO  com.douding.file.controller.admin.UploadController:154  [32mvzEYyYxx[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:07:30.801 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mvzEYyYxx[0;39m HikariPool-1 - Starting...
2023-04-28 18:07:30.894 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mvzEYyYxx[0;39m HikariPool-1 - Start completed.
2023-04-28 18:07:30.898 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mvzEYyYxx[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:07:30.915 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mvzEYyYxx[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 18:07:30.930 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mvzEYyYxx[0;39m <==      Total: 0
2023-04-28 18:07:30.960 INFO  com.douding.server.config.LogAspect               :109  [32mvzEYyYxx[0;39m 返回结果: {"success":true}
2023-04-28 18:07:30.960 INFO  com.douding.server.config.LogAspect               :110  [32mvzEYyYxx[0;39m ------------- 结束 耗时：229 ms -------------
2023-04-28 18:07:31.009 INFO  com.douding.server.config.LogAspect               :76   [32mTVCRFkQQ[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:07:31.010 INFO  com.douding.server.config.LogAspect               :77   [32mTVCRFkQQ[0;39m 请求地址: http://localhost:9003/file/admin/file/upload POST
2023-04-28 18:07:31.010 INFO  com.douding.server.config.LogAspect               :78   [32mTVCRFkQQ[0;39m 类名方法: com.douding.file.controller.admin.UploadController.upload
2023-04-28 18:07:31.010 INFO  com.douding.server.config.LogAspect               :79   [32mTVCRFkQQ[0;39m 远程地址: 127.0.0.1
2023-04-28 18:07:31.013 INFO  com.douding.server.config.LogAspect               :97   [32mTVCRFkQQ[0;39m 请求参数: [{"key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","use":"T"}]
2023-04-28 18:07:31.316 ERROR o.a.c.c.C.[.[.[/file].[dispatcherServlet]         :175  [32mTVCRFkQQ[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/file] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null] with root cause
java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null
	at com.douding.file.config.QiniuCloudUtil.upload(QiniuCloudUtil.java:60)
	at com.douding.file.controller.admin.UploadController.upload(UploadController.java:87)
	at com.douding.file.controller.admin.UploadController$$FastClassBySpringCGLIB$$16c1f76f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.douding.server.config.LogAspect.doAround(LogAspect.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.douding.file.controller.admin.UploadController$$EnhancerBySpringCGLIB$$f4baff5c.upload(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
2023-04-28 18:08:18.414 INFO  com.douding.server.config.LogAspect               :76   [32mYcLqwPiV[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:08:18.415 INFO  com.douding.server.config.LogAspect               :77   [32mYcLqwPiV[0;39m 请求地址: http://localhost:9003/file/admin/file/check/CikO7Z7lGeE6wIKoq4CGw GET
2023-04-28 18:08:18.415 INFO  com.douding.server.config.LogAspect               :78   [32mYcLqwPiV[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:08:18.415 INFO  com.douding.server.config.LogAspect               :79   [32mYcLqwPiV[0;39m 远程地址: 127.0.0.1
2023-04-28 18:08:18.416 INFO  com.douding.server.config.LogAspect               :97   [32mYcLqwPiV[0;39m 请求参数: ["CikO7Z7lGeE6wIKoq4CGw"]
2023-04-28 18:08:18.416 INFO  com.douding.file.controller.admin.UploadController:154  [32mYcLqwPiV[0;39m 检查上传分片开始：CikO7Z7lGeE6wIKoq4CGw
2023-04-28 18:08:18.418 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mYcLqwPiV[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:08:18.419 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mYcLqwPiV[0;39m ==> Parameters: CikO7Z7lGeE6wIKoq4CGw(String)
2023-04-28 18:08:18.421 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mYcLqwPiV[0;39m <==      Total: 0
2023-04-28 18:08:18.422 INFO  com.douding.server.config.LogAspect               :109  [32mYcLqwPiV[0;39m 返回结果: {"success":true}
2023-04-28 18:08:18.423 INFO  com.douding.server.config.LogAspect               :110  [32mYcLqwPiV[0;39m ------------- 结束 耗时：9 ms -------------
2023-04-28 18:08:18.442 INFO  com.douding.server.config.LogAspect               :76   [32mWcFpyx6w[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:08:18.442 INFO  com.douding.server.config.LogAspect               :77   [32mWcFpyx6w[0;39m 请求地址: http://localhost:9003/file/admin/file/upload POST
2023-04-28 18:08:18.443 INFO  com.douding.server.config.LogAspect               :78   [32mWcFpyx6w[0;39m 类名方法: com.douding.file.controller.admin.UploadController.upload
2023-04-28 18:08:18.443 INFO  com.douding.server.config.LogAspect               :79   [32mWcFpyx6w[0;39m 远程地址: 127.0.0.1
2023-04-28 18:08:18.443 INFO  com.douding.server.config.LogAspect               :97   [32mWcFpyx6w[0;39m 请求参数: [{"key":"CikO7Z7lGeE6wIKoq4CGw","name":"秒杀项目流程.png","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":56059,"suffix":"png","use":"T"}]
2023-04-28 18:08:18.547 ERROR o.a.c.c.C.[.[.[/file].[dispatcherServlet]         :175  [32mWcFpyx6w[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/file] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null] with root cause
java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null
	at com.douding.file.config.QiniuCloudUtil.upload(QiniuCloudUtil.java:60)
	at com.douding.file.controller.admin.UploadController.upload(UploadController.java:87)
	at com.douding.file.controller.admin.UploadController$$FastClassBySpringCGLIB$$16c1f76f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.douding.server.config.LogAspect.doAround(LogAspect.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.douding.file.controller.admin.UploadController$$EnhancerBySpringCGLIB$$f4baff5c.upload(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
2023-04-28 18:09:25.576 INFO  com.douding.server.config.LogAspect               :76   [32mD3NlabdF[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:09:25.577 INFO  com.douding.server.config.LogAspect               :77   [32mD3NlabdF[0;39m 请求地址: http://localhost:9003/file/admin/file/check/2YVGpBriAGsiIG8icyiiU GET
2023-04-28 18:09:25.577 INFO  com.douding.server.config.LogAspect               :78   [32mD3NlabdF[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:09:25.577 INFO  com.douding.server.config.LogAspect               :79   [32mD3NlabdF[0;39m 远程地址: 127.0.0.1
2023-04-28 18:09:25.578 INFO  com.douding.server.config.LogAspect               :97   [32mD3NlabdF[0;39m 请求参数: ["2YVGpBriAGsiIG8icyiiU"]
2023-04-28 18:09:25.578 INFO  com.douding.file.controller.admin.UploadController:154  [32mD3NlabdF[0;39m 检查上传分片开始：2YVGpBriAGsiIG8icyiiU
2023-04-28 18:09:25.579 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mD3NlabdF[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:09:25.580 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mD3NlabdF[0;39m ==> Parameters: 2YVGpBriAGsiIG8icyiiU(String)
2023-04-28 18:09:25.581 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mD3NlabdF[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:09:25.594 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mD3NlabdF[0;39m <==        Row: NGoRhnsi, teacher\2YVGpBriAGsiIG8icyiiU.png, 7Ds5xR5i7KC8u0UOCGqYw4.png, png, 1453613, T, 2023-04-27 21:44:48.104, 2023-04-27 21:44:48.104, 1, 5242880, 1, 2YVGpBriAGsiIG8icyiiU
2023-04-28 18:09:25.596 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mD3NlabdF[0;39m <==      Total: 1
2023-04-28 18:09:25.610 INFO  com.douding.server.config.LogAspect               :109  [32mD3NlabdF[0;39m 返回结果: {"content":{"createdAt":1682603088104,"id":"NGoRhnsi","key":"2YVGpBriAGsiIG8icyiiU","name":"7Ds5xR5i7KC8u0UOCGqYw4.png","path":"teacher\\2YVGpBriAGsiIG8icyiiU.png","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":1453613,"suffix":"png","updatedAt":1682603088104,"use":"T"},"success":true}
2023-04-28 18:09:25.610 INFO  com.douding.server.config.LogAspect               :110  [32mD3NlabdF[0;39m ------------- 结束 耗时：34 ms -------------
2023-04-28 18:09:56.128 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 18:09:56.129 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682676596129, current=DOWN, previous=UP]
2023-04-28 18:09:56.130 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:09:56.135 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:09:56.181 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 18:09:56.185 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 18:09:56.185 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 18:09:59.193 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 18:09:59.196 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 18:09:59.235 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 18:10:05.192 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 18:10:05.209 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 18:10:06.698 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 18:10:06.770 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 18:10:06.770 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 18:10:06.783 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 18:10:07.224 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 18:10:07.225 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 18:10:07.237 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 18:10:07.378 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 18:10:07.924 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 18:10:07.932 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 18:10:07.932 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 18:10:07.932 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 18:10:08.076 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 18:10:08.077 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1282 ms
2023-04-28 18:10:09.189 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 18:10:10.437 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:10:10.473 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 18:10:11.753 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:10:11.820 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 18:10:11.872 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 18:10:11.904 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 18:10:11.906 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:10:11.924 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 18:10:11.924 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 18:10:11.924 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 18:10:11.925 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 18:10:11.925 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 18:10:11.925 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 18:10:11.925 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 18:10:12.076 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 18:10:12.082 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 18:10:12.088 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 18:10:12.099 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682676612099 with initial instances count: 5
2023-04-28 18:10:12.105 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 18:10:12.105 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682676612105, current=UP, previous=STARTING]
2023-04-28 18:10:12.106 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:10:12.106 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 18:10:12.127 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 18:10:12.128 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 18:10:12.132 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:10:13.375 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:10:13.383 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 9.724 seconds (JVM running for 10.826)
2023-04-28 18:10:13.386 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 18:10:13.386 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 18:10:44.192 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 18:10:44.193 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 18:10:44.194 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 1 ms
2023-04-28 18:10:44.219 INFO  com.douding.server.config.LogAspect               :76   [32mGFNLyUgL[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:10:44.220 INFO  com.douding.server.config.LogAspect               :77   [32mGFNLyUgL[0;39m 请求地址: http://localhost:9003/file/admin/file/check/2YVGpBriAGsiIG8icyiiU GET
2023-04-28 18:10:44.220 INFO  com.douding.server.config.LogAspect               :78   [32mGFNLyUgL[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:10:44.220 INFO  com.douding.server.config.LogAspect               :79   [32mGFNLyUgL[0;39m 远程地址: 127.0.0.1
2023-04-28 18:10:44.246 INFO  com.douding.server.config.LogAspect               :97   [32mGFNLyUgL[0;39m 请求参数: ["2YVGpBriAGsiIG8icyiiU"]
2023-04-28 18:10:44.249 INFO  com.douding.file.controller.admin.UploadController:154  [32mGFNLyUgL[0;39m 检查上传分片开始：2YVGpBriAGsiIG8icyiiU
2023-04-28 18:10:44.280 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mGFNLyUgL[0;39m HikariPool-1 - Starting...
2023-04-28 18:10:44.364 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mGFNLyUgL[0;39m HikariPool-1 - Start completed.
2023-04-28 18:10:44.368 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mGFNLyUgL[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:10:44.384 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mGFNLyUgL[0;39m ==> Parameters: 2YVGpBriAGsiIG8icyiiU(String)
2023-04-28 18:10:44.400 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mGFNLyUgL[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:10:44.403 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mGFNLyUgL[0;39m <==        Row: NGoRhnsi, teacher\2YVGpBriAGsiIG8icyiiU.png, 7Ds5xR5i7KC8u0UOCGqYw4.png, png, 1453613, T, 2023-04-27 21:44:48.104, 2023-04-27 21:44:48.104, 1, 5242880, 1, 2YVGpBriAGsiIG8icyiiU
2023-04-28 18:10:44.406 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mGFNLyUgL[0;39m <==      Total: 1
2023-04-28 18:10:44.448 INFO  com.douding.server.config.LogAspect               :109  [32mGFNLyUgL[0;39m 返回结果: {"content":{"createdAt":1682603088104,"id":"NGoRhnsi","key":"2YVGpBriAGsiIG8icyiiU","name":"7Ds5xR5i7KC8u0UOCGqYw4.png","path":"teacher\\2YVGpBriAGsiIG8icyiiU.png","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":1453613,"suffix":"png","updatedAt":1682603088104,"use":"T"},"success":true}
2023-04-28 18:10:44.448 INFO  com.douding.server.config.LogAspect               :110  [32mGFNLyUgL[0;39m ------------- 结束 耗时：231 ms -------------
2023-04-28 18:11:50.777 INFO  com.douding.server.config.LogAspect               :76   [32mlZE0D8Ng[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:11:50.778 INFO  com.douding.server.config.LogAspect               :77   [32mlZE0D8Ng[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 18:11:50.778 INFO  com.douding.server.config.LogAspect               :78   [32mlZE0D8Ng[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:11:50.779 INFO  com.douding.server.config.LogAspect               :79   [32mlZE0D8Ng[0;39m 远程地址: 127.0.0.1
2023-04-28 18:11:50.779 INFO  com.douding.server.config.LogAspect               :97   [32mlZE0D8Ng[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 18:11:50.779 INFO  com.douding.file.controller.admin.UploadController:154  [32mlZE0D8Ng[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:11:50.781 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mlZE0D8Ng[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:11:50.781 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mlZE0D8Ng[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 18:11:50.783 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mlZE0D8Ng[0;39m <==      Total: 0
2023-04-28 18:11:50.784 INFO  com.douding.server.config.LogAspect               :109  [32mlZE0D8Ng[0;39m 返回结果: {"success":true}
2023-04-28 18:11:50.784 INFO  com.douding.server.config.LogAspect               :110  [32mlZE0D8Ng[0;39m ------------- 结束 耗时：7 ms -------------
2023-04-28 18:11:50.837 INFO  com.douding.server.config.LogAspect               :76   [32mPP6Qivzl[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:11:50.837 INFO  com.douding.server.config.LogAspect               :77   [32mPP6Qivzl[0;39m 请求地址: http://localhost:9003/file/admin/file/upload POST
2023-04-28 18:11:50.838 INFO  com.douding.server.config.LogAspect               :78   [32mPP6Qivzl[0;39m 类名方法: com.douding.file.controller.admin.UploadController.upload
2023-04-28 18:11:50.838 INFO  com.douding.server.config.LogAspect               :79   [32mPP6Qivzl[0;39m 远程地址: 127.0.0.1
2023-04-28 18:11:50.838 INFO  com.douding.server.config.LogAspect               :97   [32mPP6Qivzl[0;39m 请求参数: [{"key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","use":"T"}]
2023-04-28 18:11:51.209 ERROR o.a.c.c.C.[.[.[/file].[dispatcherServlet]         :175  [32mPP6Qivzl[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/file] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null] with root cause
java.lang.NullPointerException: Cannot invoke "com.qiniu.http.Response.toString()" because "r" is null
	at com.douding.file.config.QiniuCloudUtil.upload(QiniuCloudUtil.java:60)
	at com.douding.file.controller.admin.UploadController.upload(UploadController.java:87)
	at com.douding.file.controller.admin.UploadController$$FastClassBySpringCGLIB$$16c1f76f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.douding.server.config.LogAspect.doAround(LogAspect.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.douding.file.controller.admin.UploadController$$EnhancerBySpringCGLIB$$2187b687.upload(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
2023-04-28 18:15:11.929 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:15:12.011 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 18:15:12.011 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682676912011, current=DOWN, previous=UP]
2023-04-28 18:15:12.011 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:15:12.016 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:15:12.062 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 18:15:12.065 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 18:15:12.065 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 18:15:15.068 WARN  com.netflix.discovery.TimedSupervisorTask         :90   [32m        [0;39m task supervisor shutting down, can't accept the task
2023-04-28 18:15:15.073 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 18:15:15.076 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 18:15:15.116 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 18:15:21.454 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 18:15:21.467 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 18:15:22.922 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 18:15:22.990 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 18:15:22.990 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 18:15:23.003 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 18:15:23.463 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 18:15:23.464 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 18:15:23.475 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 18:15:23.624 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 18:15:24.170 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 18:15:24.177 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 18:15:24.177 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 18:15:24.177 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 18:15:24.313 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 18:15:24.313 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1299 ms
2023-04-28 18:15:25.373 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 18:15:26.616 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:15:26.660 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 18:15:27.928 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:15:27.999 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 18:15:28.052 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 18:15:28.084 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 18:15:28.086 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:15:28.104 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 18:15:28.105 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 18:15:28.105 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 18:15:28.105 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 18:15:28.105 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 18:15:28.105 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 18:15:28.105 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 18:15:28.254 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 18:15:28.259 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 18:15:28.264 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 18:15:28.274 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682676928273 with initial instances count: 4
2023-04-28 18:15:28.279 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 18:15:28.279 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682676928279, current=UP, previous=STARTING]
2023-04-28 18:15:28.280 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:15:28.281 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 18:15:28.304 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 18:15:28.304 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 18:15:28.313 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:15:29.548 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:15:29.556 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 9.624 seconds (JVM running for 10.644)
2023-04-28 18:15:29.558 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 18:15:29.558 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 18:16:07.808 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 18:16:07.809 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 18:16:07.810 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 1 ms
2023-04-28 18:16:07.837 INFO  com.douding.server.config.LogAspect               :76   [32mVLmaA4Wq[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:16:07.838 INFO  com.douding.server.config.LogAspect               :77   [32mVLmaA4Wq[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 18:16:07.838 INFO  com.douding.server.config.LogAspect               :78   [32mVLmaA4Wq[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:16:07.839 INFO  com.douding.server.config.LogAspect               :79   [32mVLmaA4Wq[0;39m 远程地址: 127.0.0.1
2023-04-28 18:16:07.867 INFO  com.douding.server.config.LogAspect               :97   [32mVLmaA4Wq[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 18:16:07.869 INFO  com.douding.file.controller.admin.UploadController:154  [32mVLmaA4Wq[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:16:07.900 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mVLmaA4Wq[0;39m HikariPool-1 - Starting...
2023-04-28 18:16:07.986 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mVLmaA4Wq[0;39m HikariPool-1 - Start completed.
2023-04-28 18:16:07.991 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mVLmaA4Wq[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:16:08.007 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mVLmaA4Wq[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 18:16:08.023 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mVLmaA4Wq[0;39m <==      Total: 0
2023-04-28 18:16:08.056 INFO  com.douding.server.config.LogAspect               :109  [32mVLmaA4Wq[0;39m 返回结果: {"success":true}
2023-04-28 18:16:08.056 INFO  com.douding.server.config.LogAspect               :110  [32mVLmaA4Wq[0;39m ------------- 结束 耗时：220 ms -------------
2023-04-28 18:16:08.108 INFO  com.douding.server.config.LogAspect               :76   [32mlGbvJVPh[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:16:08.108 INFO  com.douding.server.config.LogAspect               :77   [32mlGbvJVPh[0;39m 请求地址: http://localhost:9003/file/admin/file/upload POST
2023-04-28 18:16:08.108 INFO  com.douding.server.config.LogAspect               :78   [32mlGbvJVPh[0;39m 类名方法: com.douding.file.controller.admin.UploadController.upload
2023-04-28 18:16:08.108 INFO  com.douding.server.config.LogAspect               :79   [32mlGbvJVPh[0;39m 远程地址: 127.0.0.1
2023-04-28 18:16:08.112 INFO  com.douding.server.config.LogAspect               :97   [32mlGbvJVPh[0;39m 请求参数: [{"key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","use":"T"}]
2023-04-28 18:16:08.133 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mlGbvJVPh[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:16:08.134 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mlGbvJVPh[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 18:16:08.135 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mlGbvJVPh[0;39m <==      Total: 0
2023-04-28 18:16:08.135 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mlGbvJVPh[0;39m ==>  Preparing: insert into file (id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key`) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2023-04-28 18:16:08.137 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mlGbvJVPh[0;39m ==> Parameters: MImv816k(String), teacher\5qoz0KvqdaOMUqug08QCeO.jpg(String), back.jpg(String), jpg(String), 459815(Integer), T(String), 2023-04-28 18:16:08.135(Timestamp), 2023-04-28 18:16:08.135(Timestamp), 1(Integer), 5242880(Integer), 1(Integer), 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 18:16:08.140 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mlGbvJVPh[0;39m <==    Updates: 1
2023-04-28 18:16:08.140 INFO  com.douding.file.controller.admin.UploadController:99   [32mlGbvJVPh[0;39m 合并分片开始
2023-04-28 18:16:08.149 INFO  com.douding.file.controller.admin.UploadController:132  [32mlGbvJVPh[0;39m IO流关闭
2023-04-28 18:16:08.149 INFO  com.douding.file.controller.admin.UploadController:137  [32mlGbvJVPh[0;39m 合并分片结束
2023-04-28 18:16:08.288 INFO  com.douding.file.controller.admin.UploadController:142  [32mlGbvJVPh[0;39m 删除分片开始
2023-04-28 18:16:08.289 INFO  com.douding.file.controller.admin.UploadController:147  [32mlGbvJVPh[0;39m 删除/Users/xiaozhe/Downloads/td/teacher\5qoz0KvqdaOMUqug08QCeO.jpg.1,成功
2023-04-28 18:16:08.289 INFO  com.douding.file.controller.admin.UploadController:149  [32mlGbvJVPh[0;39m 删除分片结束
2023-04-28 18:16:08.289 INFO  com.douding.server.config.LogAspect               :109  [32mlGbvJVPh[0;39m 返回结果: {"content":{"key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","use":"T"},"success":true}
2023-04-28 18:16:08.289 INFO  com.douding.server.config.LogAspect               :110  [32mlGbvJVPh[0;39m ------------- 结束 耗时：181 ms -------------
2023-04-28 18:16:44.709 INFO  com.douding.server.config.LogAspect               :76   [32mgu9tmmYD[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:16:44.710 INFO  com.douding.server.config.LogAspect               :77   [32mgu9tmmYD[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 18:16:44.710 INFO  com.douding.server.config.LogAspect               :78   [32mgu9tmmYD[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:16:44.710 INFO  com.douding.server.config.LogAspect               :79   [32mgu9tmmYD[0;39m 远程地址: 127.0.0.1
2023-04-28 18:16:44.710 INFO  com.douding.server.config.LogAspect               :97   [32mgu9tmmYD[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 18:16:44.711 INFO  com.douding.file.controller.admin.UploadController:154  [32mgu9tmmYD[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:16:44.712 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mgu9tmmYD[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:16:44.715 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mgu9tmmYD[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 18:16:44.716 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mgu9tmmYD[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:16:44.718 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mgu9tmmYD[0;39m <==        Row: MImv816k, teacher\5qoz0KvqdaOMUqug08QCeO.jpg, back.jpg, jpg, 459815, T, 2023-04-28 18:16:08.135, 2023-04-28 18:16:08.135, 1, 5242880, 1, 5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:16:44.720 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mgu9tmmYD[0;39m <==      Total: 1
2023-04-28 18:16:44.721 INFO  com.douding.server.config.LogAspect               :109  [32mgu9tmmYD[0;39m 返回结果: {"content":{"createdAt":1682676968135,"id":"MImv816k","key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","updatedAt":1682676968135,"use":"T"},"success":true}
2023-04-28 18:16:44.721 INFO  com.douding.server.config.LogAspect               :110  [32mgu9tmmYD[0;39m ------------- 结束 耗时：12 ms -------------
2023-04-28 18:17:12.708 INFO  com.douding.server.config.LogAspect               :76   [32moa2Q7lzn[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:17:12.708 INFO  com.douding.server.config.LogAspect               :77   [32moa2Q7lzn[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 18:17:12.708 INFO  com.douding.server.config.LogAspect               :78   [32moa2Q7lzn[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:17:12.709 INFO  com.douding.server.config.LogAspect               :79   [32moa2Q7lzn[0;39m 远程地址: 127.0.0.1
2023-04-28 18:17:12.709 INFO  com.douding.server.config.LogAspect               :97   [32moa2Q7lzn[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 18:17:12.709 INFO  com.douding.file.controller.admin.UploadController:154  [32moa2Q7lzn[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:17:12.710 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32moa2Q7lzn[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:17:12.711 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32moa2Q7lzn[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 18:17:12.712 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32moa2Q7lzn[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:17:12.714 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32moa2Q7lzn[0;39m <==        Row: MImv816k, teacher\5qoz0KvqdaOMUqug08QCeO.jpg, back.jpg, jpg, 459815, T, 2023-04-28 18:16:08.135, 2023-04-28 18:16:08.135, 1, 5242880, 1, 5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:17:12.715 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32moa2Q7lzn[0;39m <==      Total: 1
2023-04-28 18:17:12.716 INFO  com.douding.server.config.LogAspect               :109  [32moa2Q7lzn[0;39m 返回结果: {"content":{"createdAt":1682676968135,"id":"MImv816k","key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","updatedAt":1682676968135,"use":"T"},"success":true}
2023-04-28 18:17:12.716 INFO  com.douding.server.config.LogAspect               :110  [32moa2Q7lzn[0;39m ------------- 结束 耗时：8 ms -------------
2023-04-28 18:20:28.109 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:23:05.201 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 18:23:05.201 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682677385201, current=DOWN, previous=UP]
2023-04-28 18:23:05.201 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:23:05.211 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:23:05.249 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 18:23:05.252 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 18:23:05.253 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 18:23:08.260 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 18:23:08.262 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 18:23:08.308 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 18:23:13.982 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 18:23:13.996 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 18:23:15.450 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 18:23:15.519 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 18:23:15.520 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 18:23:15.532 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 18:23:15.982 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 18:23:15.984 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 18:23:15.995 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 18:23:16.137 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 18:23:16.681 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 18:23:16.687 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 18:23:16.687 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 18:23:16.688 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 18:23:16.817 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 18:23:16.818 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1275 ms
2023-04-28 18:23:17.885 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 18:23:19.180 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:23:19.215 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 18:23:20.469 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:23:20.538 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 18:23:20.589 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 18:23:20.621 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 18:23:20.623 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:23:20.641 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 18:23:20.641 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 18:23:20.641 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 18:23:20.641 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 18:23:20.641 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 18:23:20.641 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 18:23:20.642 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 18:23:20.796 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 18:23:20.801 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 18:23:20.806 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 18:23:20.816 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682677400816 with initial instances count: 4
2023-04-28 18:23:20.822 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 18:23:20.822 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682677400822, current=UP, previous=STARTING]
2023-04-28 18:23:20.823 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:23:20.825 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 18:23:20.844 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 18:23:20.845 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 18:23:20.851 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:23:22.082 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:23:22.089 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 9.667 seconds (JVM running for 10.662)
2023-04-28 18:23:22.090 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 18:23:22.091 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 18:24:14.539 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 18:24:14.539 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 18:24:14.540 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 1 ms
2023-04-28 18:24:14.565 INFO  com.douding.server.config.LogAspect               :76   [32m9X1EhZRC[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:24:14.565 INFO  com.douding.server.config.LogAspect               :77   [32m9X1EhZRC[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 18:24:14.566 INFO  com.douding.server.config.LogAspect               :78   [32m9X1EhZRC[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:24:14.566 INFO  com.douding.server.config.LogAspect               :79   [32m9X1EhZRC[0;39m 远程地址: 127.0.0.1
2023-04-28 18:24:14.592 INFO  com.douding.server.config.LogAspect               :97   [32m9X1EhZRC[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 18:24:14.595 INFO  com.douding.file.controller.admin.UploadController:155  [32m9X1EhZRC[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:24:14.629 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m9X1EhZRC[0;39m HikariPool-1 - Starting...
2023-04-28 18:24:14.715 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m9X1EhZRC[0;39m HikariPool-1 - Start completed.
2023-04-28 18:24:14.718 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m9X1EhZRC[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:24:14.734 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m9X1EhZRC[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 18:24:14.748 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32m9X1EhZRC[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:24:14.752 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32m9X1EhZRC[0;39m <==        Row: MImv816k, teacher\5qoz0KvqdaOMUqug08QCeO.jpg, back.jpg, jpg, 459815, T, 2023-04-28 18:16:08.135, 2023-04-28 18:16:08.135, 1, 5242880, 1, 5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:24:14.754 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m9X1EhZRC[0;39m <==      Total: 1
2023-04-28 18:24:14.803 INFO  com.douding.server.config.LogAspect               :109  [32m9X1EhZRC[0;39m 返回结果: {"content":{"createdAt":1682676968135,"id":"MImv816k","key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","updatedAt":1682676968135,"use":"T"},"success":true}
2023-04-28 18:24:14.803 INFO  com.douding.server.config.LogAspect               :110  [32m9X1EhZRC[0;39m ------------- 结束 耗时：240 ms -------------
2023-04-28 18:24:35.776 INFO  com.douding.server.config.LogAspect               :76   [32mgW1gD1Ze[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:24:35.777 INFO  com.douding.server.config.LogAspect               :77   [32mgW1gD1Ze[0;39m 请求地址: http://localhost:9003/file/admin/file/check/7rAD1LohnaqmmIeEuOYAee GET
2023-04-28 18:24:35.777 INFO  com.douding.server.config.LogAspect               :78   [32mgW1gD1Ze[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:24:35.777 INFO  com.douding.server.config.LogAspect               :79   [32mgW1gD1Ze[0;39m 远程地址: 127.0.0.1
2023-04-28 18:24:35.777 INFO  com.douding.server.config.LogAspect               :97   [32mgW1gD1Ze[0;39m 请求参数: ["7rAD1LohnaqmmIeEuOYAee"]
2023-04-28 18:24:35.777 INFO  com.douding.file.controller.admin.UploadController:155  [32mgW1gD1Ze[0;39m 检查上传分片开始：7rAD1LohnaqmmIeEuOYAee
2023-04-28 18:24:35.778 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mgW1gD1Ze[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:24:35.779 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mgW1gD1Ze[0;39m ==> Parameters: 7rAD1LohnaqmmIeEuOYAee(String)
2023-04-28 18:24:35.781 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mgW1gD1Ze[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:24:35.783 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mgW1gD1Ze[0;39m <==        Row: HKVmpMy7, teacher\7rAD1LohnaqmmIeEuOYAee.jpeg, httprts6tj99f.bkt.gdipper.comBBF0996FE606066F1204FF6ADD5749C699B8A49C_size151_w1080_h1620.jpeg, jpeg, 155068, T, 2023-04-28 09:20:51.747, 2023-04-28 09:20:51.747, 1, 5242880, 1, 7rAD1LohnaqmmIeEuOYAee
2023-04-28 18:24:35.784 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mgW1gD1Ze[0;39m <==      Total: 1
2023-04-28 18:24:35.785 INFO  com.douding.server.config.LogAspect               :109  [32mgW1gD1Ze[0;39m 返回结果: {"content":{"createdAt":1682644851747,"id":"HKVmpMy7","key":"7rAD1LohnaqmmIeEuOYAee","name":"httprts6tj99f.bkt.gdipper.comBBF0996FE606066F1204FF6ADD5749C699B8A49C_size151_w1080_h1620.jpeg","path":"teacher\\7rAD1LohnaqmmIeEuOYAee.jpeg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":155068,"suffix":"jpeg","updatedAt":1682644851747,"use":"T"},"success":true}
2023-04-28 18:24:35.785 INFO  com.douding.server.config.LogAspect               :110  [32mgW1gD1Ze[0;39m ------------- 结束 耗时：9 ms -------------
2023-04-28 18:24:59.188 INFO  com.douding.server.config.LogAspect               :76   [32mxdWtx5OI[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:24:59.188 INFO  com.douding.server.config.LogAspect               :77   [32mxdWtx5OI[0;39m 请求地址: http://localhost:9003/file/admin/file/check/CikO7Z7lGeE6wIKoq4CGw GET
2023-04-28 18:24:59.188 INFO  com.douding.server.config.LogAspect               :78   [32mxdWtx5OI[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:24:59.189 INFO  com.douding.server.config.LogAspect               :79   [32mxdWtx5OI[0;39m 远程地址: 127.0.0.1
2023-04-28 18:24:59.189 INFO  com.douding.server.config.LogAspect               :97   [32mxdWtx5OI[0;39m 请求参数: ["CikO7Z7lGeE6wIKoq4CGw"]
2023-04-28 18:24:59.189 INFO  com.douding.file.controller.admin.UploadController:155  [32mxdWtx5OI[0;39m 检查上传分片开始：CikO7Z7lGeE6wIKoq4CGw
2023-04-28 18:24:59.191 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mxdWtx5OI[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:24:59.192 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mxdWtx5OI[0;39m ==> Parameters: CikO7Z7lGeE6wIKoq4CGw(String)
2023-04-28 18:24:59.194 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mxdWtx5OI[0;39m <==      Total: 0
2023-04-28 18:24:59.195 INFO  com.douding.server.config.LogAspect               :109  [32mxdWtx5OI[0;39m 返回结果: {"success":true}
2023-04-28 18:24:59.195 INFO  com.douding.server.config.LogAspect               :110  [32mxdWtx5OI[0;39m ------------- 结束 耗时：7 ms -------------
2023-04-28 18:24:59.223 INFO  com.douding.server.config.LogAspect               :76   [32maf825Htx[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:24:59.223 INFO  com.douding.server.config.LogAspect               :77   [32maf825Htx[0;39m 请求地址: http://localhost:9003/file/admin/file/upload POST
2023-04-28 18:24:59.224 INFO  com.douding.server.config.LogAspect               :78   [32maf825Htx[0;39m 类名方法: com.douding.file.controller.admin.UploadController.upload
2023-04-28 18:24:59.224 INFO  com.douding.server.config.LogAspect               :79   [32maf825Htx[0;39m 远程地址: 127.0.0.1
2023-04-28 18:24:59.224 INFO  com.douding.server.config.LogAspect               :97   [32maf825Htx[0;39m 请求参数: [{"key":"CikO7Z7lGeE6wIKoq4CGw","name":"秒杀项目流程.png","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":56059,"suffix":"png","use":"T"}]
2023-04-28 18:24:59.449 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32maf825Htx[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:24:59.449 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32maf825Htx[0;39m ==> Parameters: CikO7Z7lGeE6wIKoq4CGw(String)
2023-04-28 18:24:59.450 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32maf825Htx[0;39m <==      Total: 0
2023-04-28 18:24:59.451 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32maf825Htx[0;39m ==>  Preparing: insert into file (id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key`) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2023-04-28 18:24:59.452 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32maf825Htx[0;39m ==> Parameters: FSviq0vb(String), rts6tj99f.bkt.gdipper.com秒杀项目流程.png?自定义的图片样式(String), 秒杀项目流程.png(String), png(String), 56059(Integer), T(String), 2023-04-28 18:24:59.451(Timestamp), 2023-04-28 18:24:59.451(Timestamp), 1(Integer), 5242880(Integer), 1(Integer), CikO7Z7lGeE6wIKoq4CGw(String)
2023-04-28 18:24:59.455 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32maf825Htx[0;39m <==    Updates: 1
2023-04-28 18:24:59.456 INFO  com.douding.file.controller.admin.UploadController:100  [32maf825Htx[0;39m 合并分片开始
2023-04-28 18:24:59.457 ERROR com.douding.file.controller.admin.UploadController:109  [32maf825Htx[0;39m \Users\xiaozhe\Downloads\td\rts6tj99f.bkt.gdipper.com秒杀项目流程.png?自定义的图片样式 (文件名、目录名或卷标语法不正确。)
2023-04-28 18:24:59.461 ERROR com.douding.file.controller.admin.UploadController:126  [32maf825Htx[0;39m 合并分片异常-\Users\xiaozhe\Downloads\td\rts6tj99f.bkt.gdipper.com秒杀项目流程.png?自定义的图片样式.1 (文件名、目录名或卷标语法不正确。)
2023-04-28 18:24:59.466 ERROR o.a.c.c.C.[.[.[/file].[dispatcherServlet]         :175  [32maf825Htx[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/file] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "java.io.FileOutputStream.close()" because "outputStream" is null] with root cause
java.lang.NullPointerException: Cannot invoke "java.io.FileOutputStream.close()" because "outputStream" is null
	at com.douding.file.controller.admin.UploadController.merge(UploadController.java:132)
	at com.douding.file.controller.admin.UploadController.upload(UploadController.java:92)
	at com.douding.file.controller.admin.UploadController$$FastClassBySpringCGLIB$$16c1f76f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.douding.server.config.LogAspect.doAround(LogAspect.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.douding.file.controller.admin.UploadController$$EnhancerBySpringCGLIB$$748b9716.upload(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
2023-04-28 18:25:23.920 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 18:25:23.920 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682677523920, current=DOWN, previous=UP]
2023-04-28 18:25:23.920 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:25:23.924 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:25:23.969 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 18:25:23.972 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 18:25:23.973 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 18:25:26.981 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 18:25:26.985 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 18:25:27.042 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 18:25:31.776 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 18:25:31.792 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 18:25:33.273 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 18:25:33.346 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 18:25:33.347 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 18:25:33.360 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 18:25:33.845 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 18:25:33.847 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 18:25:33.858 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 18:25:34.012 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 18:25:34.594 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 18:25:34.600 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 18:25:34.601 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 18:25:34.601 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 18:25:34.776 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 18:25:34.776 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1405 ms
2023-04-28 18:25:36.212 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 18:25:37.467 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:25:37.504 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 18:25:38.828 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:25:38.900 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 18:25:38.948 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 18:25:38.981 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 18:25:38.984 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:25:39.001 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 18:25:39.002 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 18:25:39.002 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 18:25:39.002 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 18:25:39.002 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 18:25:39.002 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 18:25:39.002 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 18:25:39.154 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 18:25:39.159 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 18:25:39.164 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 18:25:39.173 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682677539173 with initial instances count: 5
2023-04-28 18:25:39.177 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 18:25:39.178 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682677539178, current=UP, previous=STARTING]
2023-04-28 18:25:39.179 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:25:39.179 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 18:25:39.199 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 18:25:39.200 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 18:25:39.205 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:25:40.437 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:25:40.444 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 10.196 seconds (JVM running for 11.34)
2023-04-28 18:25:40.446 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 18:25:40.447 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 18:26:05.156 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 18:26:05.156 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 18:26:05.157 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 1 ms
2023-04-28 18:26:05.187 INFO  com.douding.server.config.LogAspect               :76   [32mt7Cp2qeQ[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:26:05.188 INFO  com.douding.server.config.LogAspect               :77   [32mt7Cp2qeQ[0;39m 请求地址: http://localhost:9003/file/admin/file/check/2DqIMx4vxWaUOuUk8MiQiE GET
2023-04-28 18:26:05.188 INFO  com.douding.server.config.LogAspect               :78   [32mt7Cp2qeQ[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:26:05.189 INFO  com.douding.server.config.LogAspect               :79   [32mt7Cp2qeQ[0;39m 远程地址: 127.0.0.1
2023-04-28 18:26:05.218 INFO  com.douding.server.config.LogAspect               :97   [32mt7Cp2qeQ[0;39m 请求参数: ["2DqIMx4vxWaUOuUk8MiQiE"]
2023-04-28 18:26:05.222 INFO  com.douding.file.controller.admin.UploadController:155  [32mt7Cp2qeQ[0;39m 检查上传分片开始：2DqIMx4vxWaUOuUk8MiQiE
2023-04-28 18:26:05.255 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mt7Cp2qeQ[0;39m HikariPool-1 - Starting...
2023-04-28 18:26:05.345 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mt7Cp2qeQ[0;39m HikariPool-1 - Start completed.
2023-04-28 18:26:05.350 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mt7Cp2qeQ[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:26:05.367 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mt7Cp2qeQ[0;39m ==> Parameters: 2DqIMx4vxWaUOuUk8MiQiE(String)
2023-04-28 18:26:05.383 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mt7Cp2qeQ[0;39m <==      Total: 0
2023-04-28 18:26:05.422 INFO  com.douding.server.config.LogAspect               :109  [32mt7Cp2qeQ[0;39m 返回结果: {"success":true}
2023-04-28 18:26:05.423 INFO  com.douding.server.config.LogAspect               :110  [32mt7Cp2qeQ[0;39m ------------- 结束 耗时：238 ms -------------
2023-04-28 18:26:05.468 INFO  com.douding.server.config.LogAspect               :76   [32mZZr9hqya[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:26:05.468 INFO  com.douding.server.config.LogAspect               :77   [32mZZr9hqya[0;39m 请求地址: http://localhost:9003/file/admin/file/upload POST
2023-04-28 18:26:05.469 INFO  com.douding.server.config.LogAspect               :78   [32mZZr9hqya[0;39m 类名方法: com.douding.file.controller.admin.UploadController.upload
2023-04-28 18:26:05.469 INFO  com.douding.server.config.LogAspect               :79   [32mZZr9hqya[0;39m 远程地址: 127.0.0.1
2023-04-28 18:26:05.472 INFO  com.douding.server.config.LogAspect               :97   [32mZZr9hqya[0;39m 请求参数: [{"key":"2DqIMx4vxWaUOuUk8MiQiE","name":"httprts6tj99f.bkt.gdipper.comOIP-C.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":39186,"suffix":"jpg","use":"T"}]
2023-04-28 18:26:05.722 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mZZr9hqya[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:26:05.722 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mZZr9hqya[0;39m ==> Parameters: 2DqIMx4vxWaUOuUk8MiQiE(String)
2023-04-28 18:26:05.723 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mZZr9hqya[0;39m <==      Total: 0
2023-04-28 18:26:05.723 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mZZr9hqya[0;39m ==>  Preparing: insert into file (id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key`) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2023-04-28 18:26:05.726 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mZZr9hqya[0;39m ==> Parameters: giBmaL3a(String), rts6tj99f.bkt.gdipper.comhttprts6tj99f.bkt.gdipper.comOIP-C.jpg?自定义的图片样式(String), httprts6tj99f.bkt.gdipper.comOIP-C.jpg(String), jpg(String), 39186(Integer), T(String), 2023-04-28 18:26:05.723(Timestamp), 2023-04-28 18:26:05.723(Timestamp), 1(Integer), 5242880(Integer), 1(Integer), 2DqIMx4vxWaUOuUk8MiQiE(String)
2023-04-28 18:26:05.738 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mZZr9hqya[0;39m <==    Updates: 1
2023-04-28 18:26:05.738 INFO  com.douding.file.controller.admin.UploadController:100  [32mZZr9hqya[0;39m 合并分片开始
2023-04-28 18:26:05.738 ERROR com.douding.file.controller.admin.UploadController:109  [32mZZr9hqya[0;39m \Users\xiaozhe\Downloads\td\rts6tj99f.bkt.gdipper.comhttprts6tj99f.bkt.gdipper.comOIP-C.jpg?自定义的图片样式 (文件名、目录名或卷标语法不正确。)
2023-04-28 18:26:05.741 ERROR com.douding.file.controller.admin.UploadController:126  [32mZZr9hqya[0;39m 合并分片异常-\Users\xiaozhe\Downloads\td\rts6tj99f.bkt.gdipper.comhttprts6tj99f.bkt.gdipper.comOIP-C.jpg?自定义的图片样式.1 (文件名、目录名或卷标语法不正确。)
2023-04-28 18:26:05.746 ERROR o.a.c.c.C.[.[.[/file].[dispatcherServlet]         :175  [32mZZr9hqya[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/file] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "java.io.FileOutputStream.close()" because "outputStream" is null] with root cause
java.lang.NullPointerException: Cannot invoke "java.io.FileOutputStream.close()" because "outputStream" is null
	at com.douding.file.controller.admin.UploadController.merge(UploadController.java:132)
	at com.douding.file.controller.admin.UploadController.upload(UploadController.java:92)
	at com.douding.file.controller.admin.UploadController$$FastClassBySpringCGLIB$$16c1f76f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.douding.server.config.LogAspect.doAround(LogAspect.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.douding.file.controller.admin.UploadController$$EnhancerBySpringCGLIB$$7cfc142d.upload(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
2023-04-28 18:28:19.168 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 18:28:19.168 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682677699168, current=DOWN, previous=UP]
2023-04-28 18:28:19.168 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:28:19.172 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:28:19.214 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 18:28:19.218 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 18:28:19.219 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 18:28:22.226 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 18:28:22.230 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 18:28:22.269 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 18:28:27.905 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 18:28:27.920 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 18:28:29.377 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 18:28:29.445 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 18:28:29.446 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 18:28:29.458 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 18:28:29.941 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 18:28:29.942 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 18:28:29.955 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 18:28:30.095 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 18:28:30.628 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 18:28:30.634 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 18:28:30.635 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 18:28:30.635 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 18:28:30.768 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 18:28:30.768 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1299 ms
2023-04-28 18:28:31.834 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 18:28:33.078 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:28:33.112 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 18:28:34.367 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:28:34.432 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 18:28:34.484 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 18:28:34.516 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 18:28:34.519 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:28:34.536 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 18:28:34.536 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 18:28:34.536 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 18:28:34.537 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 18:28:34.537 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 18:28:34.537 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 18:28:34.537 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 18:28:34.683 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 18:28:34.689 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 18:28:34.694 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 18:28:34.704 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682677714704 with initial instances count: 5
2023-04-28 18:28:34.709 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 18:28:34.709 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682677714709, current=UP, previous=STARTING]
2023-04-28 18:28:34.710 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:28:34.710 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 18:28:34.731 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 18:28:34.732 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 18:28:34.743 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:28:36.009 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:28:36.016 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 9.615 seconds (JVM running for 10.834)
2023-04-28 18:28:36.017 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 18:28:36.017 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 18:29:00.333 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 18:29:00.334 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 18:29:00.335 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 1 ms
2023-04-28 18:29:00.363 INFO  com.douding.server.config.LogAspect               :76   [32mEQ7WZckd[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:29:00.364 INFO  com.douding.server.config.LogAspect               :77   [32mEQ7WZckd[0;39m 请求地址: http://localhost:9003/file/admin/file/check/7rAD1LohnaqmmIeEuOYAee GET
2023-04-28 18:29:00.364 INFO  com.douding.server.config.LogAspect               :78   [32mEQ7WZckd[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:29:00.364 INFO  com.douding.server.config.LogAspect               :79   [32mEQ7WZckd[0;39m 远程地址: 127.0.0.1
2023-04-28 18:29:00.393 INFO  com.douding.server.config.LogAspect               :97   [32mEQ7WZckd[0;39m 请求参数: ["7rAD1LohnaqmmIeEuOYAee"]
2023-04-28 18:29:00.396 INFO  com.douding.file.controller.admin.UploadController:155  [32mEQ7WZckd[0;39m 检查上传分片开始：7rAD1LohnaqmmIeEuOYAee
2023-04-28 18:29:00.434 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mEQ7WZckd[0;39m HikariPool-1 - Starting...
2023-04-28 18:29:00.520 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mEQ7WZckd[0;39m HikariPool-1 - Start completed.
2023-04-28 18:29:00.524 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mEQ7WZckd[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:29:00.541 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mEQ7WZckd[0;39m ==> Parameters: 7rAD1LohnaqmmIeEuOYAee(String)
2023-04-28 18:29:00.555 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mEQ7WZckd[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:29:00.558 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mEQ7WZckd[0;39m <==        Row: HKVmpMy7, teacher\7rAD1LohnaqmmIeEuOYAee.jpeg, httprts6tj99f.bkt.gdipper.comBBF0996FE606066F1204FF6ADD5749C699B8A49C_size151_w1080_h1620.jpeg, jpeg, 155068, T, 2023-04-28 09:20:51.747, 2023-04-28 09:20:51.747, 1, 5242880, 1, 7rAD1LohnaqmmIeEuOYAee
2023-04-28 18:29:00.559 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mEQ7WZckd[0;39m <==      Total: 1
2023-04-28 18:29:00.595 INFO  com.douding.server.config.LogAspect               :109  [32mEQ7WZckd[0;39m 返回结果: {"content":{"createdAt":1682644851747,"id":"HKVmpMy7","key":"7rAD1LohnaqmmIeEuOYAee","name":"httprts6tj99f.bkt.gdipper.comBBF0996FE606066F1204FF6ADD5749C699B8A49C_size151_w1080_h1620.jpeg","path":"teacher\\7rAD1LohnaqmmIeEuOYAee.jpeg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":155068,"suffix":"jpeg","updatedAt":1682644851747,"use":"T"},"success":true}
2023-04-28 18:29:00.596 INFO  com.douding.server.config.LogAspect               :110  [32mEQ7WZckd[0;39m ------------- 结束 耗时：235 ms -------------
2023-04-28 18:29:21.055 INFO  com.douding.server.config.LogAspect               :76   [32muWVuf4oe[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:29:21.055 INFO  com.douding.server.config.LogAspect               :77   [32muWVuf4oe[0;39m 请求地址: http://localhost:9003/file/admin/file/check/7M7wWabIhqmG0kEc642qSW GET
2023-04-28 18:29:21.056 INFO  com.douding.server.config.LogAspect               :78   [32muWVuf4oe[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:29:21.056 INFO  com.douding.server.config.LogAspect               :79   [32muWVuf4oe[0;39m 远程地址: 127.0.0.1
2023-04-28 18:29:21.056 INFO  com.douding.server.config.LogAspect               :97   [32muWVuf4oe[0;39m 请求参数: ["7M7wWabIhqmG0kEc642qSW"]
2023-04-28 18:29:21.057 INFO  com.douding.file.controller.admin.UploadController:155  [32muWVuf4oe[0;39m 检查上传分片开始：7M7wWabIhqmG0kEc642qSW
2023-04-28 18:29:21.058 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32muWVuf4oe[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:29:21.059 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32muWVuf4oe[0;39m ==> Parameters: 7M7wWabIhqmG0kEc642qSW(String)
2023-04-28 18:29:21.060 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32muWVuf4oe[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:29:21.062 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32muWVuf4oe[0;39m <==        Row: RbwrYtWv, teacher\7M7wWabIhqmG0kEc642qSW.jpg, 202202210319 王世涛.jpg, jpg, 1897572, T, 2023-04-27 18:21:08.507, 2023-04-27 18:21:08.507, 1, 5242880, 1, 7M7wWabIhqmG0kEc642qSW
2023-04-28 18:29:21.064 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32muWVuf4oe[0;39m <==      Total: 1
2023-04-28 18:29:21.065 INFO  com.douding.server.config.LogAspect               :109  [32muWVuf4oe[0;39m 返回结果: {"content":{"createdAt":1682590868507,"id":"RbwrYtWv","key":"7M7wWabIhqmG0kEc642qSW","name":"202202210319 王世涛.jpg","path":"teacher\\7M7wWabIhqmG0kEc642qSW.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":1897572,"suffix":"jpg","updatedAt":1682590868507,"use":"T"},"success":true}
2023-04-28 18:29:21.066 INFO  com.douding.server.config.LogAspect               :110  [32muWVuf4oe[0;39m ------------- 结束 耗时：11 ms -------------
2023-04-28 18:29:27.545 INFO  com.douding.server.config.LogAspect               :76   [32mZY2Jp6DV[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:29:27.546 INFO  com.douding.server.config.LogAspect               :77   [32mZY2Jp6DV[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 18:29:27.546 INFO  com.douding.server.config.LogAspect               :78   [32mZY2Jp6DV[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:29:27.546 INFO  com.douding.server.config.LogAspect               :79   [32mZY2Jp6DV[0;39m 远程地址: 127.0.0.1
2023-04-28 18:29:27.546 INFO  com.douding.server.config.LogAspect               :97   [32mZY2Jp6DV[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 18:29:27.547 INFO  com.douding.file.controller.admin.UploadController:155  [32mZY2Jp6DV[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:29:27.548 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mZY2Jp6DV[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:29:27.548 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mZY2Jp6DV[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 18:29:27.549 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mZY2Jp6DV[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:29:27.551 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mZY2Jp6DV[0;39m <==        Row: MImv816k, teacher\5qoz0KvqdaOMUqug08QCeO.jpg, back.jpg, jpg, 459815, T, 2023-04-28 18:16:08.135, 2023-04-28 18:16:08.135, 1, 5242880, 1, 5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:29:27.551 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mZY2Jp6DV[0;39m <==      Total: 1
2023-04-28 18:29:27.553 INFO  com.douding.server.config.LogAspect               :109  [32mZY2Jp6DV[0;39m 返回结果: {"content":{"createdAt":1682676968135,"id":"MImv816k","key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","updatedAt":1682676968135,"use":"T"},"success":true}
2023-04-28 18:29:27.553 INFO  com.douding.server.config.LogAspect               :110  [32mZY2Jp6DV[0;39m ------------- 结束 耗时：8 ms -------------
2023-04-28 18:29:35.857 INFO  com.douding.server.config.LogAspect               :76   [32mc1sqeoSS[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:29:35.857 INFO  com.douding.server.config.LogAspect               :77   [32mc1sqeoSS[0;39m 请求地址: http://localhost:9003/file/admin/file/check/CikO7Z7lGeE6wIKoq4CGw GET
2023-04-28 18:29:35.858 INFO  com.douding.server.config.LogAspect               :78   [32mc1sqeoSS[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:29:35.858 INFO  com.douding.server.config.LogAspect               :79   [32mc1sqeoSS[0;39m 远程地址: 127.0.0.1
2023-04-28 18:29:35.859 INFO  com.douding.server.config.LogAspect               :97   [32mc1sqeoSS[0;39m 请求参数: ["CikO7Z7lGeE6wIKoq4CGw"]
2023-04-28 18:29:35.859 INFO  com.douding.file.controller.admin.UploadController:155  [32mc1sqeoSS[0;39m 检查上传分片开始：CikO7Z7lGeE6wIKoq4CGw
2023-04-28 18:29:35.861 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mc1sqeoSS[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:29:35.862 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mc1sqeoSS[0;39m ==> Parameters: CikO7Z7lGeE6wIKoq4CGw(String)
2023-04-28 18:29:35.863 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mc1sqeoSS[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:29:35.865 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mc1sqeoSS[0;39m <==        Row: FSviq0vb, rts6tj99f.bkt.gdipper.com秒杀项目流程.png?自定义的图片样式, 秒杀项目流程.png, png, 56059, T, 2023-04-28 18:24:59.451, 2023-04-28 18:24:59.451, 1, 5242880, 1, CikO7Z7lGeE6wIKoq4CGw
2023-04-28 18:29:35.866 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mc1sqeoSS[0;39m <==      Total: 1
2023-04-28 18:29:35.867 INFO  com.douding.server.config.LogAspect               :109  [32mc1sqeoSS[0;39m 返回结果: {"content":{"createdAt":1682677499451,"id":"FSviq0vb","key":"CikO7Z7lGeE6wIKoq4CGw","name":"秒杀项目流程.png","path":"rts6tj99f.bkt.gdipper.com秒杀项目流程.png?自定义的图片样式","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":56059,"suffix":"png","updatedAt":1682677499451,"use":"T"},"success":true}
2023-04-28 18:29:35.868 INFO  com.douding.server.config.LogAspect               :110  [32mc1sqeoSS[0;39m ------------- 结束 耗时：11 ms -------------
2023-04-28 18:33:34.540 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:34:21.554 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 18:34:21.554 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682678061554, current=DOWN, previous=UP]
2023-04-28 18:34:21.554 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:34:21.560 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:34:21.600 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 18:34:21.604 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 18:34:21.605 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 18:34:24.611 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 18:34:24.614 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 18:34:24.653 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 18:34:30.210 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 18:34:30.226 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 18:34:31.674 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 18:34:31.742 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 18:34:31.743 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 18:34:31.756 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 18:34:32.196 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 18:34:32.198 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 18:34:32.209 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 18:34:32.350 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 18:34:32.889 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 18:34:32.895 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 18:34:32.895 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 18:34:32.896 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 18:34:33.017 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 18:34:33.017 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1250 ms
2023-04-28 18:34:34.089 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 18:34:35.335 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:34:35.370 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 18:34:36.624 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:34:36.692 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 18:34:36.743 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 18:34:36.778 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 18:34:36.780 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:34:36.798 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 18:34:36.798 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 18:34:36.799 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 18:34:36.799 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 18:34:36.799 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 18:34:36.799 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 18:34:36.799 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 18:34:36.951 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 18:34:36.956 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 18:34:36.961 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 18:34:36.971 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682678076970 with initial instances count: 5
2023-04-28 18:34:36.975 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 18:34:36.976 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682678076976, current=UP, previous=STARTING]
2023-04-28 18:34:36.977 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:34:36.977 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 18:34:36.997 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 18:34:36.998 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 18:34:37.003 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:34:38.241 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:34:38.250 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 9.58 seconds (JVM running for 10.549)
2023-04-28 18:34:38.252 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 18:34:38.252 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 18:35:32.100 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 18:35:32.100 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 18:35:32.102 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 2 ms
2023-04-28 18:35:32.127 INFO  com.douding.server.config.LogAspect               :76   [32mqa2uIcBw[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:35:32.127 INFO  com.douding.server.config.LogAspect               :77   [32mqa2uIcBw[0;39m 请求地址: http://localhost:9003/file/admin/file/check/4EcnA6h7YKEQUoeWCOUoo GET
2023-04-28 18:35:32.127 INFO  com.douding.server.config.LogAspect               :78   [32mqa2uIcBw[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:35:32.127 INFO  com.douding.server.config.LogAspect               :79   [32mqa2uIcBw[0;39m 远程地址: 127.0.0.1
2023-04-28 18:35:32.153 INFO  com.douding.server.config.LogAspect               :97   [32mqa2uIcBw[0;39m 请求参数: ["4EcnA6h7YKEQUoeWCOUoo"]
2023-04-28 18:35:32.156 INFO  com.douding.file.controller.admin.UploadController:155  [32mqa2uIcBw[0;39m 检查上传分片开始：4EcnA6h7YKEQUoeWCOUoo
2023-04-28 18:35:32.186 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mqa2uIcBw[0;39m HikariPool-1 - Starting...
2023-04-28 18:35:32.274 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mqa2uIcBw[0;39m HikariPool-1 - Start completed.
2023-04-28 18:35:32.278 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mqa2uIcBw[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:35:32.295 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mqa2uIcBw[0;39m ==> Parameters: 4EcnA6h7YKEQUoeWCOUoo(String)
2023-04-28 18:35:32.310 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mqa2uIcBw[0;39m <==      Total: 0
2023-04-28 18:35:32.343 INFO  com.douding.server.config.LogAspect               :109  [32mqa2uIcBw[0;39m 返回结果: {"success":true}
2023-04-28 18:35:32.343 INFO  com.douding.server.config.LogAspect               :110  [32mqa2uIcBw[0;39m ------------- 结束 耗时：219 ms -------------
2023-04-28 18:35:32.378 INFO  com.douding.server.config.LogAspect               :76   [32mJyrbQxSO[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:35:32.378 INFO  com.douding.server.config.LogAspect               :77   [32mJyrbQxSO[0;39m 请求地址: http://localhost:9003/file/admin/file/upload POST
2023-04-28 18:35:32.379 INFO  com.douding.server.config.LogAspect               :78   [32mJyrbQxSO[0;39m 类名方法: com.douding.file.controller.admin.UploadController.upload
2023-04-28 18:35:32.379 INFO  com.douding.server.config.LogAspect               :79   [32mJyrbQxSO[0;39m 远程地址: 127.0.0.1
2023-04-28 18:35:32.382 INFO  com.douding.server.config.LogAspect               :97   [32mJyrbQxSO[0;39m 请求参数: [{"key":"4EcnA6h7YKEQUoeWCOUoo","name":"死性队列延迟通知.png","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":45926,"suffix":"png","use":"T"}]
2023-04-28 18:35:32.578 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mJyrbQxSO[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:35:32.579 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mJyrbQxSO[0;39m ==> Parameters: 4EcnA6h7YKEQUoeWCOUoo(String)
2023-04-28 18:35:32.580 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mJyrbQxSO[0;39m <==      Total: 0
2023-04-28 18:35:32.580 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mJyrbQxSO[0;39m ==>  Preparing: insert into file (id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key`) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2023-04-28 18:35:32.584 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mJyrbQxSO[0;39m ==> Parameters: 85I9JmQt(String), http://rts6tj99f.bkt.gdipper.com/死性队列延迟通知.png?自定义的图片样式(String), 死性队列延迟通知.png(String), png(String), 45926(Integer), T(String), 2023-04-28 18:35:32.58(Timestamp), 2023-04-28 18:35:32.58(Timestamp), 1(Integer), 5242880(Integer), 1(Integer), 4EcnA6h7YKEQUoeWCOUoo(String)
2023-04-28 18:35:32.596 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mJyrbQxSO[0;39m <==    Updates: 1
2023-04-28 18:35:32.596 INFO  com.douding.file.controller.admin.UploadController:100  [32mJyrbQxSO[0;39m 合并分片开始
2023-04-28 18:35:32.597 ERROR com.douding.file.controller.admin.UploadController:109  [32mJyrbQxSO[0;39m \Users\xiaozhe\Downloads\td\http:\rts6tj99f.bkt.gdipper.com\死性队列延迟通知.png?自定义的图片样式 (文件名、目录名或卷标语法不正确。)
2023-04-28 18:35:32.607 ERROR com.douding.file.controller.admin.UploadController:126  [32mJyrbQxSO[0;39m 合并分片异常-\Users\xiaozhe\Downloads\td\http:\rts6tj99f.bkt.gdipper.com\死性队列延迟通知.png?自定义的图片样式.1 (文件名、目录名或卷标语法不正确。)
2023-04-28 18:35:32.614 ERROR o.a.c.c.C.[.[.[/file].[dispatcherServlet]         :175  [32mJyrbQxSO[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/file] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "java.io.FileOutputStream.close()" because "outputStream" is null] with root cause
java.lang.NullPointerException: Cannot invoke "java.io.FileOutputStream.close()" because "outputStream" is null
	at com.douding.file.controller.admin.UploadController.merge(UploadController.java:132)
	at com.douding.file.controller.admin.UploadController.upload(UploadController.java:92)
	at com.douding.file.controller.admin.UploadController$$FastClassBySpringCGLIB$$16c1f76f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.douding.server.config.LogAspect.doAround(LogAspect.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.douding.file.controller.admin.UploadController$$EnhancerBySpringCGLIB$$f5f2581a.upload(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
2023-04-28 18:36:32.106 INFO  com.douding.server.config.LogAspect               :76   [32mQKZbfBbW[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:36:32.107 INFO  com.douding.server.config.LogAspect               :77   [32mQKZbfBbW[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 18:36:32.107 INFO  com.douding.server.config.LogAspect               :78   [32mQKZbfBbW[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:36:32.108 INFO  com.douding.server.config.LogAspect               :79   [32mQKZbfBbW[0;39m 远程地址: 127.0.0.1
2023-04-28 18:36:32.108 INFO  com.douding.server.config.LogAspect               :97   [32mQKZbfBbW[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 18:36:32.108 INFO  com.douding.file.controller.admin.UploadController:155  [32mQKZbfBbW[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:36:32.110 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mQKZbfBbW[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:36:32.110 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mQKZbfBbW[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 18:36:32.112 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mQKZbfBbW[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:36:32.114 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mQKZbfBbW[0;39m <==        Row: MImv816k, teacher\5qoz0KvqdaOMUqug08QCeO.jpg, back.jpg, jpg, 459815, T, 2023-04-28 18:16:08.135, 2023-04-28 18:16:08.135, 1, 5242880, 1, 5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:36:32.116 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mQKZbfBbW[0;39m <==      Total: 1
2023-04-28 18:36:32.117 INFO  com.douding.server.config.LogAspect               :109  [32mQKZbfBbW[0;39m 返回结果: {"content":{"createdAt":1682676968135,"id":"MImv816k","key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","updatedAt":1682676968135,"use":"T"},"success":true}
2023-04-28 18:36:32.118 INFO  com.douding.server.config.LogAspect               :110  [32mQKZbfBbW[0;39m ------------- 结束 耗时：13 ms -------------
2023-04-28 18:37:07.336 INFO  com.douding.server.config.LogAspect               :76   [32mv7Re3VcF[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:37:07.336 INFO  com.douding.server.config.LogAspect               :77   [32mv7Re3VcF[0;39m 请求地址: http://localhost:9003/file/admin/file/check/1UfYgLRUSAAQgmGQOawsm GET
2023-04-28 18:37:07.336 INFO  com.douding.server.config.LogAspect               :78   [32mv7Re3VcF[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:37:07.337 INFO  com.douding.server.config.LogAspect               :79   [32mv7Re3VcF[0;39m 远程地址: 127.0.0.1
2023-04-28 18:37:07.337 INFO  com.douding.server.config.LogAspect               :97   [32mv7Re3VcF[0;39m 请求参数: ["1UfYgLRUSAAQgmGQOawsm"]
2023-04-28 18:37:07.337 INFO  com.douding.file.controller.admin.UploadController:155  [32mv7Re3VcF[0;39m 检查上传分片开始：1UfYgLRUSAAQgmGQOawsm
2023-04-28 18:37:07.338 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mv7Re3VcF[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:37:07.339 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mv7Re3VcF[0;39m ==> Parameters: 1UfYgLRUSAAQgmGQOawsm(String)
2023-04-28 18:37:07.340 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mv7Re3VcF[0;39m <==      Total: 0
2023-04-28 18:37:07.340 INFO  com.douding.server.config.LogAspect               :109  [32mv7Re3VcF[0;39m 返回结果: {"success":true}
2023-04-28 18:37:07.341 INFO  com.douding.server.config.LogAspect               :110  [32mv7Re3VcF[0;39m ------------- 结束 耗时：5 ms -------------
2023-04-28 18:37:07.361 INFO  com.douding.server.config.LogAspect               :76   [32mwcdgyczy[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:37:07.362 INFO  com.douding.server.config.LogAspect               :77   [32mwcdgyczy[0;39m 请求地址: http://localhost:9003/file/admin/file/upload POST
2023-04-28 18:37:07.362 INFO  com.douding.server.config.LogAspect               :78   [32mwcdgyczy[0;39m 类名方法: com.douding.file.controller.admin.UploadController.upload
2023-04-28 18:37:07.362 INFO  com.douding.server.config.LogAspect               :79   [32mwcdgyczy[0;39m 远程地址: 127.0.0.1
2023-04-28 18:37:07.363 INFO  com.douding.server.config.LogAspect               :97   [32mwcdgyczy[0;39m 请求参数: [{"key":"1UfYgLRUSAAQgmGQOawsm","name":"项目部署流程.png","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":64860,"suffix":"png","use":"T"}]
2023-04-28 18:37:07.571 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mwcdgyczy[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:37:07.572 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mwcdgyczy[0;39m ==> Parameters: 1UfYgLRUSAAQgmGQOawsm(String)
2023-04-28 18:37:07.572 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mwcdgyczy[0;39m <==      Total: 0
2023-04-28 18:37:07.573 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mwcdgyczy[0;39m ==>  Preparing: insert into file (id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key`) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2023-04-28 18:37:07.573 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mwcdgyczy[0;39m ==> Parameters: 4EgepTG9(String), http://rts6tj99f.bkt.gdipper.com/项目部署流程.png?自定义的图片样式(String), 项目部署流程.png(String), png(String), 64860(Integer), T(String), 2023-04-28 18:37:07.572(Timestamp), 2023-04-28 18:37:07.572(Timestamp), 1(Integer), 5242880(Integer), 1(Integer), 1UfYgLRUSAAQgmGQOawsm(String)
2023-04-28 18:37:07.577 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mwcdgyczy[0;39m <==    Updates: 1
2023-04-28 18:37:07.578 INFO  com.douding.file.controller.admin.UploadController:100  [32mwcdgyczy[0;39m 合并分片开始
2023-04-28 18:37:07.578 ERROR com.douding.file.controller.admin.UploadController:109  [32mwcdgyczy[0;39m \Users\xiaozhe\Downloads\td\http:\rts6tj99f.bkt.gdipper.com\项目部署流程.png?自定义的图片样式 (文件名、目录名或卷标语法不正确。)
2023-04-28 18:37:07.583 ERROR com.douding.file.controller.admin.UploadController:126  [32mwcdgyczy[0;39m 合并分片异常-\Users\xiaozhe\Downloads\td\http:\rts6tj99f.bkt.gdipper.com\项目部署流程.png?自定义的图片样式.1 (文件名、目录名或卷标语法不正确。)
2023-04-28 18:37:07.584 ERROR o.a.c.c.C.[.[.[/file].[dispatcherServlet]         :175  [32mwcdgyczy[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/file] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "java.io.FileOutputStream.close()" because "outputStream" is null] with root cause
java.lang.NullPointerException: Cannot invoke "java.io.FileOutputStream.close()" because "outputStream" is null
	at com.douding.file.controller.admin.UploadController.merge(UploadController.java:132)
	at com.douding.file.controller.admin.UploadController.upload(UploadController.java:92)
	at com.douding.file.controller.admin.UploadController$$FastClassBySpringCGLIB$$16c1f76f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.douding.server.config.LogAspect.doAround(LogAspect.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.douding.file.controller.admin.UploadController$$EnhancerBySpringCGLIB$$f5f2581a.upload(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
2023-04-28 18:37:51.934 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 18:37:51.934 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682678271934, current=DOWN, previous=UP]
2023-04-28 18:37:51.934 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:37:51.938 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:37:51.987 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 18:37:51.991 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 18:37:51.992 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 18:37:54.999 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 18:37:55.003 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 18:37:55.049 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 18:38:00.033 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 18:38:00.045 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 18:38:01.505 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 18:38:01.575 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 18:38:01.575 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 18:38:01.588 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 18:38:02.023 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 18:38:02.024 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 18:38:02.035 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 18:38:02.178 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 18:38:02.733 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 18:38:02.739 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 18:38:02.739 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 18:38:02.740 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 18:38:02.873 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 18:38:02.873 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1274 ms
2023-04-28 18:38:04.013 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 18:38:05.258 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:38:05.292 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 18:38:06.555 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:38:06.620 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 18:38:06.676 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 18:38:06.707 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 18:38:06.710 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:38:06.728 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 18:38:06.728 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 18:38:06.728 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 18:38:06.729 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 18:38:06.729 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 18:38:06.729 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 18:38:06.729 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 18:38:06.881 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 18:38:06.887 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 18:38:06.891 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 18:38:06.901 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682678286900 with initial instances count: 5
2023-04-28 18:38:06.905 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 18:38:06.905 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682678286905, current=UP, previous=STARTING]
2023-04-28 18:38:06.906 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:38:06.907 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 18:38:06.926 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 18:38:06.927 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 18:38:06.932 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:38:08.164 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:38:08.172 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 9.659 seconds (JVM running for 10.783)
2023-04-28 18:38:08.174 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 18:38:08.174 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 18:38:38.993 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 18:38:38.993 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 18:38:38.995 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 2 ms
2023-04-28 18:38:39.022 INFO  com.douding.server.config.LogAspect               :76   [32m0hn4mV0t[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:38:39.023 INFO  com.douding.server.config.LogAspect               :77   [32m0hn4mV0t[0;39m 请求地址: http://localhost:9003/file/admin/file/check/7M7wWabIhqmG0kEc642qSW GET
2023-04-28 18:38:39.023 INFO  com.douding.server.config.LogAspect               :78   [32m0hn4mV0t[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:38:39.023 INFO  com.douding.server.config.LogAspect               :79   [32m0hn4mV0t[0;39m 远程地址: 127.0.0.1
2023-04-28 18:38:39.052 INFO  com.douding.server.config.LogAspect               :97   [32m0hn4mV0t[0;39m 请求参数: ["7M7wWabIhqmG0kEc642qSW"]
2023-04-28 18:38:39.055 INFO  com.douding.file.controller.admin.UploadController:155  [32m0hn4mV0t[0;39m 检查上传分片开始：7M7wWabIhqmG0kEc642qSW
2023-04-28 18:38:39.091 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m0hn4mV0t[0;39m HikariPool-1 - Starting...
2023-04-28 18:38:39.183 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m0hn4mV0t[0;39m HikariPool-1 - Start completed.
2023-04-28 18:38:39.188 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m0hn4mV0t[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:38:39.210 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m0hn4mV0t[0;39m ==> Parameters: 7M7wWabIhqmG0kEc642qSW(String)
2023-04-28 18:38:39.227 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32m0hn4mV0t[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:38:39.231 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32m0hn4mV0t[0;39m <==        Row: RbwrYtWv, teacher\7M7wWabIhqmG0kEc642qSW.jpg, 202202210319 王世涛.jpg, jpg, 1897572, T, 2023-04-27 18:21:08.507, 2023-04-27 18:21:08.507, 1, 5242880, 1, 7M7wWabIhqmG0kEc642qSW
2023-04-28 18:38:39.233 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m0hn4mV0t[0;39m <==      Total: 1
2023-04-28 18:38:39.285 INFO  com.douding.server.config.LogAspect               :109  [32m0hn4mV0t[0;39m 返回结果: {"content":{"createdAt":1682590868507,"id":"RbwrYtWv","key":"7M7wWabIhqmG0kEc642qSW","name":"202202210319 王世涛.jpg","path":"teacher\\7M7wWabIhqmG0kEc642qSW.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":1897572,"suffix":"jpg","updatedAt":1682590868507,"use":"T"},"success":true}
2023-04-28 18:38:39.285 INFO  com.douding.server.config.LogAspect               :110  [32m0hn4mV0t[0;39m ------------- 结束 耗时：265 ms -------------
2023-04-28 18:38:46.704 INFO  com.douding.server.config.LogAspect               :76   [32maUBaV2Ng[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:38:46.705 INFO  com.douding.server.config.LogAspect               :77   [32maUBaV2Ng[0;39m 请求地址: http://localhost:9003/file/admin/file/check/1cFidKheASYuAuGY6M4OQw GET
2023-04-28 18:38:46.705 INFO  com.douding.server.config.LogAspect               :78   [32maUBaV2Ng[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:38:46.705 INFO  com.douding.server.config.LogAspect               :79   [32maUBaV2Ng[0;39m 远程地址: 127.0.0.1
2023-04-28 18:38:46.706 INFO  com.douding.server.config.LogAspect               :97   [32maUBaV2Ng[0;39m 请求参数: ["1cFidKheASYuAuGY6M4OQw"]
2023-04-28 18:38:46.706 INFO  com.douding.file.controller.admin.UploadController:155  [32maUBaV2Ng[0;39m 检查上传分片开始：1cFidKheASYuAuGY6M4OQw
2023-04-28 18:38:46.708 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32maUBaV2Ng[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:38:46.709 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32maUBaV2Ng[0;39m ==> Parameters: 1cFidKheASYuAuGY6M4OQw(String)
2023-04-28 18:38:46.711 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32maUBaV2Ng[0;39m <==      Total: 0
2023-04-28 18:38:46.711 INFO  com.douding.server.config.LogAspect               :109  [32maUBaV2Ng[0;39m 返回结果: {"success":true}
2023-04-28 18:38:46.712 INFO  com.douding.server.config.LogAspect               :110  [32maUBaV2Ng[0;39m ------------- 结束 耗时：8 ms -------------
2023-04-28 18:38:46.747 INFO  com.douding.server.config.LogAspect               :76   [32myoRQlOH2[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:38:46.748 INFO  com.douding.server.config.LogAspect               :77   [32myoRQlOH2[0;39m 请求地址: http://localhost:9003/file/admin/file/upload POST
2023-04-28 18:38:46.748 INFO  com.douding.server.config.LogAspect               :78   [32myoRQlOH2[0;39m 类名方法: com.douding.file.controller.admin.UploadController.upload
2023-04-28 18:38:46.748 INFO  com.douding.server.config.LogAspect               :79   [32myoRQlOH2[0;39m 远程地址: 127.0.0.1
2023-04-28 18:38:46.749 INFO  com.douding.server.config.LogAspect               :97   [32myoRQlOH2[0;39m 请求参数: [{"key":"1cFidKheASYuAuGY6M4OQw","name":"添加订单流程图.png","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":88002,"suffix":"png","use":"T"}]
2023-04-28 18:38:46.945 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32myoRQlOH2[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:38:46.946 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32myoRQlOH2[0;39m ==> Parameters: 1cFidKheASYuAuGY6M4OQw(String)
2023-04-28 18:38:46.947 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32myoRQlOH2[0;39m <==      Total: 0
2023-04-28 18:38:46.948 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32myoRQlOH2[0;39m ==>  Preparing: insert into file (id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key`) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2023-04-28 18:38:46.949 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32myoRQlOH2[0;39m ==> Parameters: i29CpsMy(String), http://rts6tj99f.bkt.gdipper.com/添加订单流程图.png?自定义的图片样式(String), 添加订单流程图.png(String), png(String), 88002(Integer), T(String), 2023-04-28 18:38:46.947(Timestamp), 2023-04-28 18:38:46.947(Timestamp), 1(Integer), 5242880(Integer), 1(Integer), 1cFidKheASYuAuGY6M4OQw(String)
2023-04-28 18:38:46.953 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32myoRQlOH2[0;39m <==    Updates: 1
2023-04-28 18:38:46.954 INFO  com.douding.file.controller.admin.UploadController:100  [32myoRQlOH2[0;39m 合并分片开始
2023-04-28 18:38:46.954 ERROR com.douding.file.controller.admin.UploadController:109  [32myoRQlOH2[0;39m \Users\xiaozhe\Downloads\td\http:\rts6tj99f.bkt.gdipper.com\添加订单流程图.png?自定义的图片样式 (文件名、目录名或卷标语法不正确。)
2023-04-28 18:38:46.961 ERROR com.douding.file.controller.admin.UploadController:126  [32myoRQlOH2[0;39m 合并分片异常-\Users\xiaozhe\Downloads\td\http:\rts6tj99f.bkt.gdipper.com\添加订单流程图.png?自定义的图片样式.1 (文件名、目录名或卷标语法不正确。)
2023-04-28 18:38:46.967 ERROR o.a.c.c.C.[.[.[/file].[dispatcherServlet]         :175  [32myoRQlOH2[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/file] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "java.io.FileOutputStream.close()" because "outputStream" is null] with root cause
java.lang.NullPointerException: Cannot invoke "java.io.FileOutputStream.close()" because "outputStream" is null
	at com.douding.file.controller.admin.UploadController.merge(UploadController.java:132)
	at com.douding.file.controller.admin.UploadController.upload(UploadController.java:92)
	at com.douding.file.controller.admin.UploadController$$FastClassBySpringCGLIB$$16c1f76f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.douding.server.config.LogAspect.doAround(LogAspect.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.douding.file.controller.admin.UploadController$$EnhancerBySpringCGLIB$$f5f2581a.upload(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
2023-04-28 18:39:10.121 INFO  com.douding.server.config.LogAspect               :76   [32mG2jLOPBp[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:39:10.121 INFO  com.douding.server.config.LogAspect               :77   [32mG2jLOPBp[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 18:39:10.121 INFO  com.douding.server.config.LogAspect               :78   [32mG2jLOPBp[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:39:10.122 INFO  com.douding.server.config.LogAspect               :79   [32mG2jLOPBp[0;39m 远程地址: 127.0.0.1
2023-04-28 18:39:10.122 INFO  com.douding.server.config.LogAspect               :97   [32mG2jLOPBp[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 18:39:10.122 INFO  com.douding.file.controller.admin.UploadController:155  [32mG2jLOPBp[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:39:10.124 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mG2jLOPBp[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:39:10.125 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mG2jLOPBp[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 18:39:10.126 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mG2jLOPBp[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:39:10.127 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mG2jLOPBp[0;39m <==        Row: MImv816k, teacher\5qoz0KvqdaOMUqug08QCeO.jpg, back.jpg, jpg, 459815, T, 2023-04-28 18:16:08.135, 2023-04-28 18:16:08.135, 1, 5242880, 1, 5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:39:10.129 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mG2jLOPBp[0;39m <==      Total: 1
2023-04-28 18:39:10.130 INFO  com.douding.server.config.LogAspect               :109  [32mG2jLOPBp[0;39m 返回结果: {"content":{"createdAt":1682676968135,"id":"MImv816k","key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","updatedAt":1682676968135,"use":"T"},"success":true}
2023-04-28 18:39:10.130 INFO  com.douding.server.config.LogAspect               :110  [32mG2jLOPBp[0;39m ------------- 结束 耗时：9 ms -------------
2023-04-28 18:40:44.103 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 18:40:44.104 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682678444104, current=DOWN, previous=UP]
2023-04-28 18:40:44.104 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:40:44.108 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:40:44.151 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 18:40:44.154 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 18:40:44.155 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 18:40:47.162 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 18:40:47.165 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 18:40:47.205 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 18:40:53.388 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 18:40:53.405 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 18:40:54.867 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 18:40:54.939 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 18:40:54.940 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 18:40:54.953 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 18:40:55.422 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 18:40:55.423 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 18:40:55.436 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 18:40:55.612 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 18:40:56.174 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 18:40:56.180 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 18:40:56.181 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 18:40:56.181 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 18:40:56.313 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 18:40:56.313 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1350 ms
2023-04-28 18:40:57.400 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 18:40:58.647 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:40:58.682 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 18:40:59.941 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:41:00.013 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 18:41:00.071 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 18:41:00.103 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 18:41:00.105 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:41:00.123 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 18:41:00.124 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 18:41:00.124 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 18:41:00.124 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 18:41:00.124 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 18:41:00.124 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 18:41:00.124 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 18:41:00.273 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 18:41:00.278 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 18:41:00.283 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 18:41:00.293 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682678460293 with initial instances count: 5
2023-04-28 18:41:00.298 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 18:41:00.298 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682678460298, current=UP, previous=STARTING]
2023-04-28 18:41:00.299 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:41:00.299 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 18:41:00.320 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 18:41:00.320 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 18:41:00.324 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:41:01.560 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:41:01.569 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 9.722 seconds (JVM running for 10.957)
2023-04-28 18:41:01.571 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 18:41:01.571 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 18:42:02.924 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 18:42:02.924 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 18:42:02.927 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 3 ms
2023-04-28 18:42:02.953 INFO  com.douding.server.config.LogAspect               :76   [32mL12dAE1n[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:42:02.953 INFO  com.douding.server.config.LogAspect               :77   [32mL12dAE1n[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 18:42:02.954 INFO  com.douding.server.config.LogAspect               :78   [32mL12dAE1n[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:42:02.954 INFO  com.douding.server.config.LogAspect               :79   [32mL12dAE1n[0;39m 远程地址: 127.0.0.1
2023-04-28 18:42:02.983 INFO  com.douding.server.config.LogAspect               :97   [32mL12dAE1n[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 18:42:02.986 INFO  com.douding.file.controller.admin.UploadController:155  [32mL12dAE1n[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:42:03.019 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mL12dAE1n[0;39m HikariPool-1 - Starting...
2023-04-28 18:42:03.107 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mL12dAE1n[0;39m HikariPool-1 - Start completed.
2023-04-28 18:42:03.112 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mL12dAE1n[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:42:03.130 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mL12dAE1n[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 18:42:03.145 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mL12dAE1n[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:42:03.148 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mL12dAE1n[0;39m <==        Row: MImv816k, teacher\5qoz0KvqdaOMUqug08QCeO.jpg, back.jpg, jpg, 459815, T, 2023-04-28 18:16:08.135, 2023-04-28 18:16:08.135, 1, 5242880, 1, 5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:42:03.149 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mL12dAE1n[0;39m <==      Total: 1
2023-04-28 18:42:03.189 INFO  com.douding.server.config.LogAspect               :109  [32mL12dAE1n[0;39m 返回结果: {"content":{"createdAt":1682676968135,"id":"MImv816k","key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","updatedAt":1682676968135,"use":"T"},"success":true}
2023-04-28 18:42:03.189 INFO  com.douding.server.config.LogAspect               :110  [32mL12dAE1n[0;39m ------------- 结束 耗时：238 ms -------------
2023-04-28 18:42:37.795 INFO  com.douding.server.config.LogAspect               :76   [32mI9dMaWAw[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:42:37.795 INFO  com.douding.server.config.LogAspect               :77   [32mI9dMaWAw[0;39m 请求地址: http://localhost:9003/file/admin/file/check/4EcnA6h7YKEQUoeWCOUoo GET
2023-04-28 18:42:37.796 INFO  com.douding.server.config.LogAspect               :78   [32mI9dMaWAw[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:42:37.796 INFO  com.douding.server.config.LogAspect               :79   [32mI9dMaWAw[0;39m 远程地址: 127.0.0.1
2023-04-28 18:42:37.796 INFO  com.douding.server.config.LogAspect               :97   [32mI9dMaWAw[0;39m 请求参数: ["4EcnA6h7YKEQUoeWCOUoo"]
2023-04-28 18:42:37.797 INFO  com.douding.file.controller.admin.UploadController:155  [32mI9dMaWAw[0;39m 检查上传分片开始：4EcnA6h7YKEQUoeWCOUoo
2023-04-28 18:42:37.798 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mI9dMaWAw[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:42:37.798 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mI9dMaWAw[0;39m ==> Parameters: 4EcnA6h7YKEQUoeWCOUoo(String)
2023-04-28 18:42:37.800 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mI9dMaWAw[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:42:37.802 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mI9dMaWAw[0;39m <==        Row: 85I9JmQt, http://rts6tj99f.bkt.gdipper.com/死性队列延迟通知.png?自定义的图片样式, 死性队列延迟通知.png, png, 45926, T, 2023-04-28 18:35:32.580, 2023-04-28 18:35:32.580, 1, 5242880, 1, 4EcnA6h7YKEQUoeWCOUoo
2023-04-28 18:42:37.803 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mI9dMaWAw[0;39m <==      Total: 1
2023-04-28 18:42:37.805 INFO  com.douding.server.config.LogAspect               :109  [32mI9dMaWAw[0;39m 返回结果: {"content":{"createdAt":1682678132580,"id":"85I9JmQt","key":"4EcnA6h7YKEQUoeWCOUoo","name":"死性队列延迟通知.png","path":"http://rts6tj99f.bkt.gdipper.com/死性队列延迟通知.png?自定义的图片样式","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":45926,"suffix":"png","updatedAt":1682678132580,"use":"T"},"success":true}
2023-04-28 18:42:37.805 INFO  com.douding.server.config.LogAspect               :110  [32mI9dMaWAw[0;39m ------------- 结束 耗时：10 ms -------------
2023-04-28 18:46:00.127 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:47:38.821 INFO  com.douding.server.config.LogAspect               :76   [32m7NVEeipb[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:47:38.821 INFO  com.douding.server.config.LogAspect               :77   [32m7NVEeipb[0;39m 请求地址: http://localhost:9003/file/admin/file/check/1oO6UspI0EsM2EEsUMMKQm GET
2023-04-28 18:47:38.822 INFO  com.douding.server.config.LogAspect               :78   [32m7NVEeipb[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:47:38.822 INFO  com.douding.server.config.LogAspect               :79   [32m7NVEeipb[0;39m 远程地址: 127.0.0.1
2023-04-28 18:47:38.822 INFO  com.douding.server.config.LogAspect               :97   [32m7NVEeipb[0;39m 请求参数: ["1oO6UspI0EsM2EEsUMMKQm"]
2023-04-28 18:47:38.822 INFO  com.douding.file.controller.admin.UploadController:155  [32m7NVEeipb[0;39m 检查上传分片开始：1oO6UspI0EsM2EEsUMMKQm
2023-04-28 18:47:38.824 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m7NVEeipb[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:47:38.824 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m7NVEeipb[0;39m ==> Parameters: 1oO6UspI0EsM2EEsUMMKQm(String)
2023-04-28 18:47:38.826 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m7NVEeipb[0;39m <==      Total: 0
2023-04-28 18:47:38.826 INFO  com.douding.server.config.LogAspect               :109  [32m7NVEeipb[0;39m 返回结果: {"success":true}
2023-04-28 18:47:38.827 INFO  com.douding.server.config.LogAspect               :110  [32m7NVEeipb[0;39m ------------- 结束 耗时：6 ms -------------
2023-04-28 18:47:38.860 INFO  com.douding.server.config.LogAspect               :76   [32mSoEtPZwe[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:47:38.860 INFO  com.douding.server.config.LogAspect               :77   [32mSoEtPZwe[0;39m 请求地址: http://localhost:9003/file/admin/file/upload POST
2023-04-28 18:47:38.861 INFO  com.douding.server.config.LogAspect               :78   [32mSoEtPZwe[0;39m 类名方法: com.douding.file.controller.admin.UploadController.upload
2023-04-28 18:47:38.861 INFO  com.douding.server.config.LogAspect               :79   [32mSoEtPZwe[0;39m 远程地址: 127.0.0.1
2023-04-28 18:47:38.861 INFO  com.douding.server.config.LogAspect               :97   [32mSoEtPZwe[0;39m 请求参数: [{"key":"1oO6UspI0EsM2EEsUMMKQm","name":"deadExchange.png","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":45926,"suffix":"png","use":"T"}]
2023-04-28 18:47:39.279 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mSoEtPZwe[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:47:39.279 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mSoEtPZwe[0;39m ==> Parameters: 1oO6UspI0EsM2EEsUMMKQm(String)
2023-04-28 18:47:39.280 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mSoEtPZwe[0;39m <==      Total: 0
2023-04-28 18:47:39.281 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mSoEtPZwe[0;39m ==>  Preparing: insert into file (id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key`) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2023-04-28 18:47:39.281 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mSoEtPZwe[0;39m ==> Parameters: IML5OT6V(String), http://rts6tj99f.bkt.gdipper.com/deadExchange.png?(String), deadExchange.png(String), png(String), 45926(Integer), T(String), 2023-04-28 18:47:39.28(Timestamp), 2023-04-28 18:47:39.28(Timestamp), 1(Integer), 5242880(Integer), 1(Integer), 1oO6UspI0EsM2EEsUMMKQm(String)
2023-04-28 18:47:39.285 DEBUG com.douding.server.mapper.FileMapper.insert       :159  [32mSoEtPZwe[0;39m <==    Updates: 1
2023-04-28 18:47:39.286 INFO  com.douding.file.controller.admin.UploadController:100  [32mSoEtPZwe[0;39m 合并分片开始
2023-04-28 18:47:39.286 ERROR com.douding.file.controller.admin.UploadController:109  [32mSoEtPZwe[0;39m \Users\xiaozhe\Downloads\td\http:\rts6tj99f.bkt.gdipper.com\deadExchange.png? (文件名、目录名或卷标语法不正确。)
2023-04-28 18:47:39.291 ERROR com.douding.file.controller.admin.UploadController:126  [32mSoEtPZwe[0;39m 合并分片异常-\Users\xiaozhe\Downloads\td\http:\rts6tj99f.bkt.gdipper.com\deadExchange.png?.1 (文件名、目录名或卷标语法不正确。)
2023-04-28 18:47:39.297 ERROR o.a.c.c.C.[.[.[/file].[dispatcherServlet]         :175  [32mSoEtPZwe[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/file] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "java.io.FileOutputStream.close()" because "outputStream" is null] with root cause
java.lang.NullPointerException: Cannot invoke "java.io.FileOutputStream.close()" because "outputStream" is null
	at com.douding.file.controller.admin.UploadController.merge(UploadController.java:132)
	at com.douding.file.controller.admin.UploadController.upload(UploadController.java:92)
	at com.douding.file.controller.admin.UploadController$$FastClassBySpringCGLIB$$16c1f76f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.douding.server.config.LogAspect.doAround(LogAspect.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.douding.file.controller.admin.UploadController$$EnhancerBySpringCGLIB$$9c818696.upload(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
2023-04-28 18:48:33.038 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 18:48:33.038 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682678913038, current=DOWN, previous=UP]
2023-04-28 18:48:33.038 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:48:33.041 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:48:33.084 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 18:48:33.088 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 18:48:33.088 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 18:48:36.096 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 18:48:36.099 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 18:48:36.139 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 18:48:40.954 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 18:48:40.969 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 18:48:42.417 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 18:48:42.486 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 18:48:42.487 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 18:48:42.499 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 18:48:42.945 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 18:48:42.947 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 18:48:42.957 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 18:48:43.102 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 18:48:43.641 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 18:48:43.647 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 18:48:43.647 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 18:48:43.648 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 18:48:43.780 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 18:48:43.781 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1271 ms
2023-04-28 18:48:44.868 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 18:48:46.124 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:48:46.159 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 18:48:47.415 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:48:47.485 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 18:48:47.533 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 18:48:47.566 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 18:48:47.568 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:48:47.586 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 18:48:47.587 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 18:48:47.587 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 18:48:47.587 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 18:48:47.587 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 18:48:47.587 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 18:48:47.587 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 18:48:47.742 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 18:48:47.747 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 18:48:47.751 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 18:48:47.761 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682678927761 with initial instances count: 4
2023-04-28 18:48:47.766 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 18:48:47.766 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682678927766, current=UP, previous=STARTING]
2023-04-28 18:48:47.767 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:48:47.767 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 18:48:47.789 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 18:48:47.790 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 18:48:47.796 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:48:49.037 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:48:49.045 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 9.611 seconds (JVM running for 10.689)
2023-04-28 18:48:49.046 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 18:48:49.047 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 18:51:32.574 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 18:51:32.574 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 18:51:32.576 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 1 ms
2023-04-28 18:51:32.602 INFO  com.douding.server.config.LogAspect               :76   [32mnE60MEeV[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:51:32.603 INFO  com.douding.server.config.LogAspect               :77   [32mnE60MEeV[0;39m 请求地址: http://localhost:9003/file/admin/file/check/CikO7Z7lGeE6wIKoq4CGw GET
2023-04-28 18:51:32.603 INFO  com.douding.server.config.LogAspect               :78   [32mnE60MEeV[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:51:32.603 INFO  com.douding.server.config.LogAspect               :79   [32mnE60MEeV[0;39m 远程地址: 127.0.0.1
2023-04-28 18:51:32.635 INFO  com.douding.server.config.LogAspect               :97   [32mnE60MEeV[0;39m 请求参数: ["CikO7Z7lGeE6wIKoq4CGw"]
2023-04-28 18:51:32.638 INFO  com.douding.file.controller.admin.UploadController:155  [32mnE60MEeV[0;39m 检查上传分片开始：CikO7Z7lGeE6wIKoq4CGw
2023-04-28 18:51:32.669 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mnE60MEeV[0;39m HikariPool-1 - Starting...
2023-04-28 18:51:32.754 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mnE60MEeV[0;39m HikariPool-1 - Start completed.
2023-04-28 18:51:32.761 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mnE60MEeV[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:51:32.783 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mnE60MEeV[0;39m ==> Parameters: CikO7Z7lGeE6wIKoq4CGw(String)
2023-04-28 18:51:32.803 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mnE60MEeV[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:51:32.807 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mnE60MEeV[0;39m <==        Row: FSviq0vb, rts6tj99f.bkt.gdipper.com秒杀项目流程.png?自定义的图片样式, 秒杀项目流程.png, png, 56059, T, 2023-04-28 18:24:59.451, 2023-04-28 18:24:59.451, 1, 5242880, 1, CikO7Z7lGeE6wIKoq4CGw
2023-04-28 18:51:32.809 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mnE60MEeV[0;39m <==      Total: 1
2023-04-28 18:51:32.861 INFO  com.douding.server.config.LogAspect               :109  [32mnE60MEeV[0;39m 返回结果: {"content":{"createdAt":1682677499451,"id":"FSviq0vb","key":"CikO7Z7lGeE6wIKoq4CGw","name":"秒杀项目流程.png","path":"rts6tj99f.bkt.gdipper.com秒杀项目流程.png?自定义的图片样式","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":56059,"suffix":"png","updatedAt":1682677499451,"use":"T"},"success":true}
2023-04-28 18:51:32.861 INFO  com.douding.server.config.LogAspect               :110  [32mnE60MEeV[0;39m ------------- 结束 耗时：261 ms -------------
2023-04-28 18:53:47.590 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:54:47.963 INFO  com.douding.server.config.LogAspect               :76   [32mi2KNQjgu[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:54:47.963 INFO  com.douding.server.config.LogAspect               :77   [32mi2KNQjgu[0;39m 请求地址: http://localhost:9003/file/admin/file/check/1UfYgLRUSAAQgmGQOawsm GET
2023-04-28 18:54:47.964 INFO  com.douding.server.config.LogAspect               :78   [32mi2KNQjgu[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:54:47.964 INFO  com.douding.server.config.LogAspect               :79   [32mi2KNQjgu[0;39m 远程地址: 127.0.0.1
2023-04-28 18:54:47.964 INFO  com.douding.server.config.LogAspect               :97   [32mi2KNQjgu[0;39m 请求参数: ["1UfYgLRUSAAQgmGQOawsm"]
2023-04-28 18:54:47.965 INFO  com.douding.file.controller.admin.UploadController:155  [32mi2KNQjgu[0;39m 检查上传分片开始：1UfYgLRUSAAQgmGQOawsm
2023-04-28 18:54:47.966 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mi2KNQjgu[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:54:47.967 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mi2KNQjgu[0;39m ==> Parameters: 1UfYgLRUSAAQgmGQOawsm(String)
2023-04-28 18:54:47.969 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mi2KNQjgu[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:54:47.971 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mi2KNQjgu[0;39m <==        Row: 4EgepTG9, http://rts6tj99f.bkt.gdipper.com/项目部署流程.png?自定义的图片样式, 项目部署流程.png, png, 64860, T, 2023-04-28 18:37:07.572, 2023-04-28 18:37:07.572, 1, 5242880, 1, 1UfYgLRUSAAQgmGQOawsm
2023-04-28 18:54:47.974 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mi2KNQjgu[0;39m <==      Total: 1
2023-04-28 18:54:47.975 INFO  com.douding.server.config.LogAspect               :109  [32mi2KNQjgu[0;39m 返回结果: {"content":{"createdAt":1682678227572,"id":"4EgepTG9","key":"1UfYgLRUSAAQgmGQOawsm","name":"项目部署流程.png","path":"http://rts6tj99f.bkt.gdipper.com/项目部署流程.png?自定义的图片样式","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":64860,"suffix":"png","updatedAt":1682678227572,"use":"T"},"success":true}
2023-04-28 18:54:47.975 INFO  com.douding.server.config.LogAspect               :110  [32mi2KNQjgu[0;39m ------------- 结束 耗时：13 ms -------------
2023-04-28 18:57:41.980 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 18:57:41.981 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682679461981, current=DOWN, previous=UP]
2023-04-28 18:57:41.981 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:57:41.985 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:57:42.101 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 18:57:42.169 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 18:57:42.169 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 18:57:45.187 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 18:57:45.193 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 18:57:45.259 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 18:57:56.455 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 18:57:56.494 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 18:57:58.815 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 18:57:58.987 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 18:57:58.989 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 18:57:59.037 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 18:58:00.396 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 18:58:00.418 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 18:58:00.460 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2023-04-28 18:58:00.955 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 18:58:02.314 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 18:58:02.325 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 18:58:02.326 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 18:58:02.326 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 18:58:02.643 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 18:58:02.643 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 3570 ms
2023-04-28 18:58:04.293 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 18:58:05.733 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:58:05.809 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 18:58:07.210 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:58:07.308 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 18:58:07.376 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 18:58:07.420 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 18:58:07.426 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 18:58:07.453 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 18:58:07.453 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 18:58:07.453 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 18:58:07.454 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 18:58:07.454 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 18:58:07.454 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 18:58:07.454 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 18:58:07.663 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 18:58:07.672 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 18:58:07.679 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 18:58:07.695 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682679487694 with initial instances count: 4
2023-04-28 18:58:07.702 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 18:58:07.703 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682679487703, current=UP, previous=STARTING]
2023-04-28 18:58:07.704 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 18:58:07.706 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 18:58:07.737 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 18:58:07.738 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 18:58:07.744 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 18:58:09.087 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 18:58:09.101 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 15.015 seconds (JVM running for 17.175)
2023-04-28 18:58:09.104 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 18:58:09.105 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 18:59:42.027 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 18:59:42.028 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 18:59:42.031 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 3 ms
2023-04-28 18:59:42.071 INFO  com.douding.server.config.LogAspect               :76   [32m0Qr7nw8x[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 18:59:42.072 INFO  com.douding.server.config.LogAspect               :77   [32m0Qr7nw8x[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 18:59:42.072 INFO  com.douding.server.config.LogAspect               :78   [32m0Qr7nw8x[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 18:59:42.073 INFO  com.douding.server.config.LogAspect               :79   [32m0Qr7nw8x[0;39m 远程地址: 127.0.0.1
2023-04-28 18:59:42.115 INFO  com.douding.server.config.LogAspect               :97   [32m0Qr7nw8x[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 18:59:42.121 INFO  com.douding.file.controller.admin.UploadController:155  [32m0Qr7nw8x[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:59:42.184 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m0Qr7nw8x[0;39m HikariPool-1 - Starting...
2023-04-28 18:59:42.363 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m0Qr7nw8x[0;39m HikariPool-1 - Start completed.
2023-04-28 18:59:42.372 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m0Qr7nw8x[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 18:59:42.402 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m0Qr7nw8x[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 18:59:42.425 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32m0Qr7nw8x[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 18:59:42.430 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32m0Qr7nw8x[0;39m <==        Row: MImv816k, teacher\5qoz0KvqdaOMUqug08QCeO.jpg, back.jpg, jpg, 459815, T, 2023-04-28 18:16:08.135, 2023-04-28 18:16:08.135, 1, 5242880, 1, 5qoz0KvqdaOMUqug08QCeO
2023-04-28 18:59:42.432 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m0Qr7nw8x[0;39m <==      Total: 1
2023-04-28 18:59:42.510 INFO  com.douding.server.config.LogAspect               :109  [32m0Qr7nw8x[0;39m 返回结果: {"content":{"createdAt":1682676968135,"id":"MImv816k","key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","updatedAt":1682676968135,"use":"T"},"success":true}
2023-04-28 18:59:42.510 INFO  com.douding.server.config.LogAspect               :110  [32m0Qr7nw8x[0;39m ------------- 结束 耗时：443 ms -------------
2023-04-28 19:00:40.199 INFO  com.douding.server.config.LogAspect               :76   [32mMet8n3Wh[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 19:00:40.200 INFO  com.douding.server.config.LogAspect               :77   [32mMet8n3Wh[0;39m 请求地址: http://localhost:9003/file/admin/file/check/1cFidKheASYuAuGY6M4OQw GET
2023-04-28 19:00:40.200 INFO  com.douding.server.config.LogAspect               :78   [32mMet8n3Wh[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 19:00:40.200 INFO  com.douding.server.config.LogAspect               :79   [32mMet8n3Wh[0;39m 远程地址: 127.0.0.1
2023-04-28 19:00:40.201 INFO  com.douding.server.config.LogAspect               :97   [32mMet8n3Wh[0;39m 请求参数: ["1cFidKheASYuAuGY6M4OQw"]
2023-04-28 19:00:40.201 INFO  com.douding.file.controller.admin.UploadController:155  [32mMet8n3Wh[0;39m 检查上传分片开始：1cFidKheASYuAuGY6M4OQw
2023-04-28 19:00:40.202 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mMet8n3Wh[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 19:00:40.204 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mMet8n3Wh[0;39m ==> Parameters: 1cFidKheASYuAuGY6M4OQw(String)
2023-04-28 19:00:40.206 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mMet8n3Wh[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 19:00:40.208 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mMet8n3Wh[0;39m <==        Row: i29CpsMy, http://rts6tj99f.bkt.gdipper.com/添加订单流程图.png?自定义的图片样式, 添加订单流程图.png, png, 88002, T, 2023-04-28 18:38:46.947, 2023-04-28 18:38:46.947, 1, 5242880, 1, 1cFidKheASYuAuGY6M4OQw
2023-04-28 19:00:40.209 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mMet8n3Wh[0;39m <==      Total: 1
2023-04-28 19:00:40.210 INFO  com.douding.server.config.LogAspect               :109  [32mMet8n3Wh[0;39m 返回结果: {"content":{"createdAt":1682678326947,"id":"i29CpsMy","key":"1cFidKheASYuAuGY6M4OQw","name":"添加订单流程图.png","path":"http://rts6tj99f.bkt.gdipper.com/添加订单流程图.png?自定义的图片样式","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":88002,"suffix":"png","updatedAt":1682678326947,"use":"T"},"success":true}
2023-04-28 19:00:40.211 INFO  com.douding.server.config.LogAspect               :110  [32mMet8n3Wh[0;39m ------------- 结束 耗时：12 ms -------------
2023-04-28 19:03:07.459 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 19:08:07.461 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 19:13:07.467 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 19:16:24.176 INFO  com.douding.server.config.LogAspect               :76   [32mzxXSp4uE[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 19:16:24.176 INFO  com.douding.server.config.LogAspect               :77   [32mzxXSp4uE[0;39m 请求地址: http://localhost:9003/file/admin/file/check/1oO6UspI0EsM2EEsUMMKQm GET
2023-04-28 19:16:24.177 INFO  com.douding.server.config.LogAspect               :78   [32mzxXSp4uE[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 19:16:24.177 INFO  com.douding.server.config.LogAspect               :79   [32mzxXSp4uE[0;39m 远程地址: 127.0.0.1
2023-04-28 19:16:24.178 INFO  com.douding.server.config.LogAspect               :97   [32mzxXSp4uE[0;39m 请求参数: ["1oO6UspI0EsM2EEsUMMKQm"]
2023-04-28 19:16:24.178 INFO  com.douding.file.controller.admin.UploadController:155  [32mzxXSp4uE[0;39m 检查上传分片开始：1oO6UspI0EsM2EEsUMMKQm
2023-04-28 19:16:24.180 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mzxXSp4uE[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 19:16:24.182 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mzxXSp4uE[0;39m ==> Parameters: 1oO6UspI0EsM2EEsUMMKQm(String)
2023-04-28 19:16:24.184 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mzxXSp4uE[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 19:16:24.185 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mzxXSp4uE[0;39m <==        Row: IML5OT6V, http://rts6tj99f.bkt.gdipper.com/deadExchange.png?, deadExchange.png, png, 45926, T, 2023-04-28 18:47:39.280, 2023-04-28 18:47:39.280, 1, 5242880, 1, 1oO6UspI0EsM2EEsUMMKQm
2023-04-28 19:16:24.187 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mzxXSp4uE[0;39m <==      Total: 1
2023-04-28 19:16:24.188 INFO  com.douding.server.config.LogAspect               :109  [32mzxXSp4uE[0;39m 返回结果: {"content":{"createdAt":1682678859280,"id":"IML5OT6V","key":"1oO6UspI0EsM2EEsUMMKQm","name":"deadExchange.png","path":"http://rts6tj99f.bkt.gdipper.com/deadExchange.png?","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":45926,"suffix":"png","updatedAt":1682678859280,"use":"T"},"success":true}
2023-04-28 19:16:24.189 INFO  com.douding.server.config.LogAspect               :110  [32mzxXSp4uE[0;39m ------------- 结束 耗时：14 ms -------------
2023-04-28 19:18:07.469 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 19:23:07.472 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 19:28:07.475 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 19:33:07.476 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 19:35:19.778 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 19:35:19.778 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682681719778, current=DOWN, previous=UP]
2023-04-28 19:35:19.779 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 19:35:19.785 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 19:35:19.840 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 19:35:19.842 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 19:35:19.843 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 19:35:22.865 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 19:35:22.869 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 19:35:22.936 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 19:35:33.863 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 19:35:33.883 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 19:35:35.616 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 19:35:35.721 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 19:35:35.722 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 19:35:35.742 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 19:35:36.607 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 19:35:36.609 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 19:35:36.624 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-04-28 19:35:36.827 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 19:35:37.697 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 19:35:37.707 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 19:35:37.708 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 19:35:37.708 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 19:35:37.890 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 19:35:37.890 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 2127 ms
2023-04-28 19:35:39.381 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 19:35:40.696 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 19:35:40.820 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 19:35:42.241 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 19:35:42.395 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 19:35:42.460 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 19:35:42.520 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 19:35:42.525 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 19:35:42.549 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 19:35:42.549 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 19:35:42.550 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 19:35:42.550 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 19:35:42.550 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 19:35:42.550 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 19:35:42.550 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 19:35:42.809 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 19:35:42.816 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 19:35:42.824 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 19:35:42.839 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682681742838 with initial instances count: 5
2023-04-28 19:35:42.844 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 19:35:42.845 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682681742845, current=UP, previous=STARTING]
2023-04-28 19:35:42.846 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 19:35:42.847 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 19:35:42.873 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 19:35:42.874 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 19:35:42.880 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 19:35:44.198 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 19:35:44.235 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 12.11 seconds (JVM running for 13.603)
2023-04-28 19:35:44.239 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 19:35:44.240 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 19:36:21.816 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 19:36:21.816 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 19:36:21.818 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 1 ms
2023-04-28 19:36:21.856 INFO  com.douding.server.config.LogAspect               :76   [32mvz70TXnB[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 19:36:21.857 INFO  com.douding.server.config.LogAspect               :77   [32mvz70TXnB[0;39m 请求地址: http://localhost:9003/file/admin/file/check/1oO6UspI0EsM2EEsUMMKQm GET
2023-04-28 19:36:21.857 INFO  com.douding.server.config.LogAspect               :78   [32mvz70TXnB[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 19:36:21.857 INFO  com.douding.server.config.LogAspect               :79   [32mvz70TXnB[0;39m 远程地址: 127.0.0.1
2023-04-28 19:36:21.905 INFO  com.douding.server.config.LogAspect               :97   [32mvz70TXnB[0;39m 请求参数: ["1oO6UspI0EsM2EEsUMMKQm"]
2023-04-28 19:36:21.910 INFO  com.douding.file.controller.admin.UploadController:155  [32mvz70TXnB[0;39m 检查上传分片开始：1oO6UspI0EsM2EEsUMMKQm
2023-04-28 19:36:21.971 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mvz70TXnB[0;39m HikariPool-1 - Starting...
2023-04-28 19:36:22.158 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mvz70TXnB[0;39m HikariPool-1 - Start completed.
2023-04-28 19:36:22.165 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mvz70TXnB[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 19:36:22.197 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mvz70TXnB[0;39m ==> Parameters: 1oO6UspI0EsM2EEsUMMKQm(String)
2023-04-28 19:36:22.224 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mvz70TXnB[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 19:36:22.230 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mvz70TXnB[0;39m <==        Row: IML5OT6V, http://rts6tj99f.bkt.gdipper.com/deadExchange.png?, deadExchange.png, png, 45926, T, 2023-04-28 18:47:39.280, 2023-04-28 18:47:39.280, 1, 5242880, 1, 1oO6UspI0EsM2EEsUMMKQm
2023-04-28 19:36:22.232 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mvz70TXnB[0;39m <==      Total: 1
2023-04-28 19:36:22.365 INFO  com.douding.server.config.LogAspect               :109  [32mvz70TXnB[0;39m 返回结果: {"content":{"createdAt":1682678859280,"id":"IML5OT6V","key":"1oO6UspI0EsM2EEsUMMKQm","name":"deadExchange.png","path":"http://rts6tj99f.bkt.gdipper.com/deadExchange.png?","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":45926,"suffix":"png","updatedAt":1682678859280,"use":"T"},"success":true}
2023-04-28 19:36:22.366 INFO  com.douding.server.config.LogAspect               :110  [32mvz70TXnB[0;39m ------------- 结束 耗时：513 ms -------------
2023-04-28 19:40:42.555 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 19:45:42.558 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 19:50:42.559 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 19:55:42.567 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 20:00:42.569 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 20:05:42.571 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 20:06:20.978 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 20:06:20.978 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682683580978, current=DOWN, previous=UP]
2023-04-28 20:06:20.979 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 20:06:20.985 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 20:06:21.043 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 20:06:21.047 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 20:06:21.047 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 20:06:24.067 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 20:06:24.072 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 20:06:24.181 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 20:06:33.183 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 20:06:33.205 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 20:06:34.891 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 20:06:35.004 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 20:06:35.005 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 20:06:35.024 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 20:06:35.649 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 20:06:35.651 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 20:06:35.666 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-04-28 20:06:35.849 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 20:06:36.551 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 20:06:36.561 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 20:06:36.561 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 20:06:36.562 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 20:06:36.731 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 20:06:36.732 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1692 ms
2023-04-28 20:06:38.153 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 20:06:39.476 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 20:06:39.562 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 20:06:40.901 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 20:06:41.079 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 20:06:41.178 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 20:06:41.226 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 20:06:41.230 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 20:06:41.254 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 20:06:41.254 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 20:06:41.254 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 20:06:41.254 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 20:06:41.255 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 20:06:41.255 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 20:06:41.255 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 20:06:41.435 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 20:06:41.442 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 20:06:41.448 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 20:06:41.464 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682683601462 with initial instances count: 5
2023-04-28 20:06:41.470 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 20:06:41.470 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682683601470, current=UP, previous=STARTING]
2023-04-28 20:06:41.471 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 20:06:41.473 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 20:06:41.500 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 20:06:41.501 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 20:06:41.507 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 20:06:42.824 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 20:06:42.852 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 11.442 seconds (JVM running for 12.773)
2023-04-28 20:06:42.857 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 20:06:42.857 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 20:07:42.726 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 20:07:42.726 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 20:07:42.728 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 2 ms
2023-04-28 20:07:42.770 INFO  com.douding.server.config.LogAspect               :76   [32m2OI0UvVc[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 20:07:42.771 INFO  com.douding.server.config.LogAspect               :77   [32m2OI0UvVc[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 20:07:42.772 INFO  com.douding.server.config.LogAspect               :78   [32m2OI0UvVc[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 20:07:42.772 INFO  com.douding.server.config.LogAspect               :79   [32m2OI0UvVc[0;39m 远程地址: 127.0.0.1
2023-04-28 20:07:42.814 INFO  com.douding.server.config.LogAspect               :97   [32m2OI0UvVc[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 20:07:42.820 INFO  com.douding.file.controller.admin.UploadController:155  [32m2OI0UvVc[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 20:07:42.871 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m2OI0UvVc[0;39m HikariPool-1 - Starting...
2023-04-28 20:07:43.029 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m2OI0UvVc[0;39m HikariPool-1 - Start completed.
2023-04-28 20:07:43.036 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m2OI0UvVc[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 20:07:43.059 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m2OI0UvVc[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 20:07:43.075 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32m2OI0UvVc[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 20:07:43.079 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32m2OI0UvVc[0;39m <==        Row: MImv816k, teacher\5qoz0KvqdaOMUqug08QCeO.jpg, back.jpg, jpg, 459815, T, 2023-04-28 18:16:08.135, 2023-04-28 18:16:08.135, 1, 5242880, 1, 5qoz0KvqdaOMUqug08QCeO
2023-04-28 20:07:43.081 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m2OI0UvVc[0;39m <==      Total: 1
2023-04-28 20:07:43.137 INFO  com.douding.server.config.LogAspect               :109  [32m2OI0UvVc[0;39m 返回结果: {"content":{"createdAt":1682676968135,"id":"MImv816k","key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","updatedAt":1682676968135,"use":"T"},"success":true}
2023-04-28 20:07:43.137 INFO  com.douding.server.config.LogAspect               :110  [32m2OI0UvVc[0;39m ------------- 结束 耗时：371 ms -------------
2023-04-28 20:09:45.854 INFO  com.douding.server.config.LogAspect               :76   [32mH9EJW0uG[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 20:09:45.855 INFO  com.douding.server.config.LogAspect               :77   [32mH9EJW0uG[0;39m 请求地址: http://localhost:9003/file/admin/file/check/1oO6UspI0EsM2EEsUMMKQm GET
2023-04-28 20:09:45.855 INFO  com.douding.server.config.LogAspect               :78   [32mH9EJW0uG[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 20:09:45.855 INFO  com.douding.server.config.LogAspect               :79   [32mH9EJW0uG[0;39m 远程地址: 127.0.0.1
2023-04-28 20:09:45.856 INFO  com.douding.server.config.LogAspect               :97   [32mH9EJW0uG[0;39m 请求参数: ["1oO6UspI0EsM2EEsUMMKQm"]
2023-04-28 20:09:45.856 INFO  com.douding.file.controller.admin.UploadController:155  [32mH9EJW0uG[0;39m 检查上传分片开始：1oO6UspI0EsM2EEsUMMKQm
2023-04-28 20:09:45.858 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mH9EJW0uG[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 20:09:45.860 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mH9EJW0uG[0;39m ==> Parameters: 1oO6UspI0EsM2EEsUMMKQm(String)
2023-04-28 20:09:45.862 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mH9EJW0uG[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 20:09:45.864 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mH9EJW0uG[0;39m <==        Row: IML5OT6V, http://rts6tj99f.bkt.gdipper.com/deadExchange.png?, deadExchange.png, png, 45926, T, 2023-04-28 18:47:39.280, 2023-04-28 18:47:39.280, 1, 5242880, 1, 1oO6UspI0EsM2EEsUMMKQm
2023-04-28 20:09:45.865 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mH9EJW0uG[0;39m <==      Total: 1
2023-04-28 20:09:45.867 INFO  com.douding.server.config.LogAspect               :109  [32mH9EJW0uG[0;39m 返回结果: {"content":{"createdAt":1682678859280,"id":"IML5OT6V","key":"1oO6UspI0EsM2EEsUMMKQm","name":"deadExchange.png","path":"http://rts6tj99f.bkt.gdipper.com/deadExchange.png?","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":45926,"suffix":"png","updatedAt":1682678859280,"use":"T"},"success":true}
2023-04-28 20:09:45.867 INFO  com.douding.server.config.LogAspect               :110  [32mH9EJW0uG[0;39m ------------- 结束 耗时：13 ms -------------
2023-04-28 20:11:41.260 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 20:16:41.263 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 20:21:41.264 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 20:26:41.267 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 20:42:18.198 WARN  com.zaxxer.hikari.pool.HikariPool                 :788  [32m        [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=14m35s28ms797µs).
2023-04-28 20:45:46.287 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 20:50:46.289 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 20:51:04.155 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 20:51:04.155 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682686264155, current=DOWN, previous=UP]
2023-04-28 20:51:04.155 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 20:51:04.160 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 20:51:04.203 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 20:51:04.205 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 20:51:04.206 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 20:51:07.213 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 20:51:07.216 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 20:51:07.256 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 20:51:12.434 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 20:51:12.449 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 20:51:12.941 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 20:51:13.024 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 20:51:13.025 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 20:51:13.042 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 20:51:13.476 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 20:51:13.477 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 20:51:13.491 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 20:51:13.634 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 20:51:14.170 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 20:51:14.176 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 20:51:14.177 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 20:51:14.177 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 20:51:14.313 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 20:51:14.313 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1260 ms
2023-04-28 20:51:15.409 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 20:51:15.706 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 20:51:16.035 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 20:51:16.084 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 20:51:16.123 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 20:51:16.125 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 20:51:16.142 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 20:51:16.143 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 20:51:16.143 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 20:51:16.143 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 20:51:16.143 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 20:51:16.143 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 20:51:16.143 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 20:51:16.284 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 20:51:16.289 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 20:51:16.294 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 20:51:16.305 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682686276305 with initial instances count: 5
2023-04-28 20:51:16.312 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 20:51:16.312 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682686276312, current=UP, previous=STARTING]
2023-04-28 20:51:16.313 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/LAPTOP-G9R5F294:api-file:9003: registering service...
2023-04-28 20:51:16.314 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 20:51:16.338 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 20:51:16.339 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 20:51:16.349 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/LAPTOP-G9R5F294:api-file:9003 - registration status: 204
2023-04-28 20:51:16.604 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 4.692 seconds (JVM running for 5.687)
2023-04-28 20:51:16.605 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 20:51:16.606 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 20:53:07.294 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 20:53:07.295 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 20:53:07.296 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 1 ms
2023-04-28 20:53:07.330 INFO  com.douding.server.config.LogAspect               :76   [32mxhd7tWWK[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 20:53:07.331 INFO  com.douding.server.config.LogAspect               :77   [32mxhd7tWWK[0;39m 请求地址: http://LAPTOP-G9R5F294:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 20:53:07.331 INFO  com.douding.server.config.LogAspect               :78   [32mxhd7tWWK[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 20:53:07.331 INFO  com.douding.server.config.LogAspect               :79   [32mxhd7tWWK[0;39m 远程地址: 127.0.0.1
2023-04-28 20:53:07.367 INFO  com.douding.server.config.LogAspect               :97   [32mxhd7tWWK[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 20:53:07.370 INFO  com.douding.file.controller.admin.UploadController:155  [32mxhd7tWWK[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 20:53:07.413 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mxhd7tWWK[0;39m HikariPool-1 - Starting...
2023-04-28 20:53:07.557 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mxhd7tWWK[0;39m HikariPool-1 - Start completed.
2023-04-28 20:53:07.563 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mxhd7tWWK[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 20:53:07.590 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mxhd7tWWK[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 20:53:07.608 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mxhd7tWWK[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 20:53:07.611 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mxhd7tWWK[0;39m <==        Row: MImv816k, teacher\5qoz0KvqdaOMUqug08QCeO.jpg, back.jpg, jpg, 459815, T, 2023-04-28 18:16:08.135, 2023-04-28 18:16:08.135, 1, 5242880, 1, 5qoz0KvqdaOMUqug08QCeO
2023-04-28 20:53:07.612 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mxhd7tWWK[0;39m <==      Total: 1
2023-04-28 20:53:07.654 INFO  com.douding.server.config.LogAspect               :109  [32mxhd7tWWK[0;39m 返回结果: {"content":{"createdAt":1682676968135,"id":"MImv816k","key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","updatedAt":1682676968135,"use":"T"},"success":true}
2023-04-28 20:53:07.654 INFO  com.douding.server.config.LogAspect               :110  [32mxhd7tWWK[0;39m ------------- 结束 耗时：327 ms -------------
2023-04-28 20:54:47.731 INFO  com.douding.server.config.LogAspect               :76   [32mk4F05XTh[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 20:54:47.732 INFO  com.douding.server.config.LogAspect               :77   [32mk4F05XTh[0;39m 请求地址: http://LAPTOP-G9R5F294:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 20:54:47.732 INFO  com.douding.server.config.LogAspect               :78   [32mk4F05XTh[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 20:54:47.733 INFO  com.douding.server.config.LogAspect               :79   [32mk4F05XTh[0;39m 远程地址: 127.0.0.1
2023-04-28 20:54:47.734 INFO  com.douding.server.config.LogAspect               :97   [32mk4F05XTh[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 20:54:47.734 INFO  com.douding.file.controller.admin.UploadController:155  [32mk4F05XTh[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 20:54:47.736 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mk4F05XTh[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 20:54:47.737 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mk4F05XTh[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 20:54:47.738 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mk4F05XTh[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 20:54:47.739 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mk4F05XTh[0;39m <==        Row: MImv816k, teacher\5qoz0KvqdaOMUqug08QCeO.jpg, back.jpg, jpg, 459815, T, 2023-04-28 18:16:08.135, 2023-04-28 18:16:08.135, 1, 5242880, 1, 5qoz0KvqdaOMUqug08QCeO
2023-04-28 20:54:47.741 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mk4F05XTh[0;39m <==      Total: 1
2023-04-28 20:54:47.742 INFO  com.douding.server.config.LogAspect               :109  [32mk4F05XTh[0;39m 返回结果: {"content":{"createdAt":1682676968135,"id":"MImv816k","key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","updatedAt":1682676968135,"use":"T"},"success":true}
2023-04-28 20:54:47.742 INFO  com.douding.server.config.LogAspect               :110  [32mk4F05XTh[0;39m ------------- 结束 耗时：11 ms -------------
2023-04-28 20:56:16.147 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 20:56:21.064 INFO  com.douding.server.config.LogAspect               :76   [32mrEACepML[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 20:56:21.064 INFO  com.douding.server.config.LogAspect               :77   [32mrEACepML[0;39m 请求地址: http://LAPTOP-G9R5F294:9003/file/admin/file/check/1oO6UspI0EsM2EEsUMMKQm GET
2023-04-28 20:56:21.064 INFO  com.douding.server.config.LogAspect               :78   [32mrEACepML[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 20:56:21.064 INFO  com.douding.server.config.LogAspect               :79   [32mrEACepML[0;39m 远程地址: 127.0.0.1
2023-04-28 20:56:21.064 INFO  com.douding.server.config.LogAspect               :97   [32mrEACepML[0;39m 请求参数: ["1oO6UspI0EsM2EEsUMMKQm"]
2023-04-28 20:56:21.065 INFO  com.douding.file.controller.admin.UploadController:155  [32mrEACepML[0;39m 检查上传分片开始：1oO6UspI0EsM2EEsUMMKQm
2023-04-28 20:56:21.066 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mrEACepML[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 20:56:21.067 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mrEACepML[0;39m ==> Parameters: 1oO6UspI0EsM2EEsUMMKQm(String)
2023-04-28 20:56:21.068 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mrEACepML[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 20:56:21.070 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mrEACepML[0;39m <==        Row: IML5OT6V, http://rts6tj99f.bkt.gdipper.com/deadExchange.png?, deadExchange.png, png, 45926, T, 2023-04-28 18:47:39.280, 2023-04-28 18:47:39.280, 1, 5242880, 1, 1oO6UspI0EsM2EEsUMMKQm
2023-04-28 20:56:21.071 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mrEACepML[0;39m <==      Total: 1
2023-04-28 20:56:21.072 INFO  com.douding.server.config.LogAspect               :109  [32mrEACepML[0;39m 返回结果: {"content":{"createdAt":1682678859280,"id":"IML5OT6V","key":"1oO6UspI0EsM2EEsUMMKQm","name":"deadExchange.png","path":"http://rts6tj99f.bkt.gdipper.com/deadExchange.png?","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":45926,"suffix":"png","updatedAt":1682678859280,"use":"T"},"success":true}
2023-04-28 20:56:21.073 INFO  com.douding.server.config.LogAspect               :110  [32mrEACepML[0;39m ------------- 结束 耗时：10 ms -------------
2023-04-28 21:01:16.150 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 21:06:16.151 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 21:11:16.152 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 21:16:16.153 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 21:21:16.154 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 21:26:16.156 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 21:31:16.167 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 21:36:16.181 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 21:41:16.184 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 21:46:16.186 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 21:51:16.187 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 21:56:16.189 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 21:58:23.391 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 21:58:23.391 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682690303391, current=DOWN, previous=UP]
2023-04-28 21:58:23.391 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/LAPTOP-G9R5F294:api-file:9003: registering service...
2023-04-28 21:58:23.396 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/LAPTOP-G9R5F294:api-file:9003 - registration status: 204
2023-04-28 21:58:23.441 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 21:58:23.443 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 21:58:23.444 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 21:58:26.451 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 21:58:26.453 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/LAPTOP-G9R5F294:api-file:9003 - deregister  status: 200
2023-04-28 21:58:26.492 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 21:58:32.899 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 21:58:32.914 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 21:58:34.472 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 21:58:34.547 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 21:58:34.547 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 21:58:34.560 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 21:58:35.068 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 21:58:35.069 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 21:58:35.081 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 21:58:35.224 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 21:58:35.788 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 21:58:35.796 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 21:58:35.796 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 21:58:35.797 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 21:58:35.940 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 21:58:35.940 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1369 ms
2023-04-28 21:58:37.153 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 21:58:38.403 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 21:58:38.437 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 21:58:39.697 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 21:58:39.769 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 21:58:39.823 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 21:58:39.857 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 21:58:39.859 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 21:58:39.878 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 21:58:39.878 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 21:58:39.878 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 21:58:39.878 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 21:58:39.878 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 21:58:39.878 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 21:58:39.879 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 21:58:40.034 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 21:58:40.038 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 21:58:40.043 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 21:58:40.054 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682690320053 with initial instances count: 5
2023-04-28 21:58:40.058 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 21:58:40.059 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682690320059, current=UP, previous=STARTING]
2023-04-28 21:58:40.060 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 21:58:40.060 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 21:58:40.082 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 21:58:40.083 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 21:58:40.093 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 21:58:41.331 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 21:58:41.337 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 10.04 seconds (JVM running for 11.177)
2023-04-28 21:58:41.339 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 21:58:41.339 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 21:59:19.895 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 21:59:19.895 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 21:59:19.897 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 1 ms
2023-04-28 21:59:19.932 INFO  com.douding.server.config.LogAspect               :76   [32mxVO7WpMv[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 21:59:19.933 INFO  com.douding.server.config.LogAspect               :77   [32mxVO7WpMv[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 21:59:19.933 INFO  com.douding.server.config.LogAspect               :78   [32mxVO7WpMv[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 21:59:19.934 INFO  com.douding.server.config.LogAspect               :79   [32mxVO7WpMv[0;39m 远程地址: 127.0.0.1
2023-04-28 21:59:19.971 INFO  com.douding.server.config.LogAspect               :97   [32mxVO7WpMv[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 21:59:19.975 INFO  com.douding.file.controller.admin.UploadController:155  [32mxVO7WpMv[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 21:59:20.029 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mxVO7WpMv[0;39m HikariPool-1 - Starting...
2023-04-28 21:59:20.187 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mxVO7WpMv[0;39m HikariPool-1 - Start completed.
2023-04-28 21:59:20.194 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mxVO7WpMv[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 21:59:20.218 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mxVO7WpMv[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 21:59:20.233 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mxVO7WpMv[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 21:59:20.237 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mxVO7WpMv[0;39m <==        Row: MImv816k, teacher\5qoz0KvqdaOMUqug08QCeO.jpg, back.jpg, jpg, 459815, T, 2023-04-28 18:16:08.135, 2023-04-28 18:16:08.135, 1, 5242880, 1, 5qoz0KvqdaOMUqug08QCeO
2023-04-28 21:59:20.239 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mxVO7WpMv[0;39m <==      Total: 1
2023-04-28 21:59:20.290 INFO  com.douding.server.config.LogAspect               :109  [32mxVO7WpMv[0;39m 返回结果: {"content":{"createdAt":1682676968135,"id":"MImv816k","key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","updatedAt":1682676968135,"use":"T"},"success":true}
2023-04-28 21:59:20.290 INFO  com.douding.server.config.LogAspect               :110  [32mxVO7WpMv[0;39m ------------- 结束 耗时：360 ms -------------
2023-04-28 21:59:53.084 INFO  com.douding.server.config.LogAspect               :76   [32mTSYXOgqy[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 21:59:53.085 INFO  com.douding.server.config.LogAspect               :77   [32mTSYXOgqy[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 21:59:53.086 INFO  com.douding.server.config.LogAspect               :78   [32mTSYXOgqy[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 21:59:53.086 INFO  com.douding.server.config.LogAspect               :79   [32mTSYXOgqy[0;39m 远程地址: 127.0.0.1
2023-04-28 21:59:53.087 INFO  com.douding.server.config.LogAspect               :97   [32mTSYXOgqy[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 21:59:53.087 INFO  com.douding.file.controller.admin.UploadController:155  [32mTSYXOgqy[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 21:59:53.088 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mTSYXOgqy[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 21:59:53.089 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mTSYXOgqy[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 21:59:53.091 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mTSYXOgqy[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 21:59:53.093 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mTSYXOgqy[0;39m <==        Row: MImv816k, teacher\5qoz0KvqdaOMUqug08QCeO.jpg, back.jpg, jpg, 459815, T, 2023-04-28 18:16:08.135, 2023-04-28 18:16:08.135, 1, 5242880, 1, 5qoz0KvqdaOMUqug08QCeO
2023-04-28 21:59:53.094 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mTSYXOgqy[0;39m <==      Total: 1
2023-04-28 21:59:53.096 INFO  com.douding.server.config.LogAspect               :109  [32mTSYXOgqy[0;39m 返回结果: {"content":{"createdAt":1682676968135,"id":"MImv816k","key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","updatedAt":1682676968135,"use":"T"},"success":true}
2023-04-28 21:59:53.096 INFO  com.douding.server.config.LogAspect               :110  [32mTSYXOgqy[0;39m ------------- 结束 耗时：12 ms -------------
2023-04-28 22:00:28.180 INFO  com.douding.server.config.LogAspect               :76   [32mf1A4hL7V[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 22:00:28.180 INFO  com.douding.server.config.LogAspect               :77   [32mf1A4hL7V[0;39m 请求地址: http://localhost:9003/file/admin/file/check/2DqIMx4vxWaUOuUk8MiQiE GET
2023-04-28 22:00:28.181 INFO  com.douding.server.config.LogAspect               :78   [32mf1A4hL7V[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 22:00:28.181 INFO  com.douding.server.config.LogAspect               :79   [32mf1A4hL7V[0;39m 远程地址: 127.0.0.1
2023-04-28 22:00:28.181 INFO  com.douding.server.config.LogAspect               :97   [32mf1A4hL7V[0;39m 请求参数: ["2DqIMx4vxWaUOuUk8MiQiE"]
2023-04-28 22:00:28.181 INFO  com.douding.file.controller.admin.UploadController:155  [32mf1A4hL7V[0;39m 检查上传分片开始：2DqIMx4vxWaUOuUk8MiQiE
2023-04-28 22:00:28.182 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mf1A4hL7V[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 22:00:28.183 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mf1A4hL7V[0;39m ==> Parameters: 2DqIMx4vxWaUOuUk8MiQiE(String)
2023-04-28 22:00:28.185 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mf1A4hL7V[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 22:00:28.187 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mf1A4hL7V[0;39m <==        Row: giBmaL3a, rts6tj99f.bkt.gdipper.comhttprts6tj99f.bkt.gdipper.comOIP-C.jpg?自定义的图片样式, httprts6tj99f.bkt.gdipper.comOIP-C.jpg, jpg, 39186, T, 2023-04-28 18:26:05.723, 2023-04-28 18:26:05.723, 1, 5242880, 1, 2DqIMx4vxWaUOuUk8MiQiE
2023-04-28 22:00:28.190 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mf1A4hL7V[0;39m <==      Total: 1
2023-04-28 22:00:28.191 INFO  com.douding.server.config.LogAspect               :109  [32mf1A4hL7V[0;39m 返回结果: {"content":{"createdAt":1682677565723,"id":"giBmaL3a","key":"2DqIMx4vxWaUOuUk8MiQiE","name":"httprts6tj99f.bkt.gdipper.comOIP-C.jpg","path":"rts6tj99f.bkt.gdipper.comhttprts6tj99f.bkt.gdipper.comOIP-C.jpg?自定义的图片样式","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":39186,"suffix":"jpg","updatedAt":1682677565723,"use":"T"},"success":true}
2023-04-28 22:00:28.191 INFO  com.douding.server.config.LogAspect               :110  [32mf1A4hL7V[0;39m ------------- 结束 耗时：11 ms -------------
2023-04-28 22:03:39.881 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 22:08:39.883 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 22:13:39.885 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 22:18:39.887 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 22:23:39.888 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 22:28:39.889 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 22:33:39.890 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 22:38:39.891 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 22:43:39.893 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 22:48:39.894 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 22:53:39.895 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 22:58:39.896 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 23:03:39.898 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 23:08:39.900 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 23:13:39.902 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 23:18:39.903 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 23:20:02.697 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 23:20:02.697 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682695202697, current=DOWN, previous=UP]
2023-04-28 23:20:02.697 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 23:20:02.705 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 23:20:02.748 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 23:20:02.750 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 23:20:02.750 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 23:20:05.759 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 23:20:05.761 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 23:20:05.800 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 23:20:12.607 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 23:20:12.620 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 23:20:14.094 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 23:20:14.162 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 23:20:14.163 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 23:20:14.176 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 23:20:14.623 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 23:20:14.624 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 23:20:14.635 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-04-28 23:20:14.780 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 23:20:15.329 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 23:20:15.335 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 23:20:15.336 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 23:20:15.336 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 23:20:15.467 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 23:20:15.467 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1279 ms
2023-04-28 23:20:16.535 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 23:20:17.784 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 23:20:17.816 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 23:20:19.074 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 23:20:19.157 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 23:20:19.218 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 23:20:19.250 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 23:20:19.253 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 23:20:19.273 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 23:20:19.273 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 23:20:19.273 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 23:20:19.273 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 23:20:19.273 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 23:20:19.273 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 23:20:19.274 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 23:20:19.445 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 23:20:19.452 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 23:20:19.458 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 23:20:19.469 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682695219468 with initial instances count: 5
2023-04-28 23:20:19.473 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 23:20:19.473 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682695219473, current=UP, previous=STARTING]
2023-04-28 23:20:19.474 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 23:20:19.475 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 23:20:19.500 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 23:20:19.501 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 23:20:19.508 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 23:20:20.749 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 23:20:20.757 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 9.687 seconds (JVM running for 10.736)
2023-04-28 23:20:20.759 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 23:20:20.760 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 23:21:17.543 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 23:21:17.543 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 23:21:17.545 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 2 ms
2023-04-28 23:21:17.573 INFO  com.douding.server.config.LogAspect               :76   [32m9EF7BXJh[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 23:21:17.573 INFO  com.douding.server.config.LogAspect               :77   [32m9EF7BXJh[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 23:21:17.573 INFO  com.douding.server.config.LogAspect               :78   [32m9EF7BXJh[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 23:21:17.574 INFO  com.douding.server.config.LogAspect               :79   [32m9EF7BXJh[0;39m 远程地址: 127.0.0.1
2023-04-28 23:21:17.600 INFO  com.douding.server.config.LogAspect               :97   [32m9EF7BXJh[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 23:21:17.602 INFO  com.douding.file.controller.admin.UploadController:154  [32m9EF7BXJh[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 23:21:17.636 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m9EF7BXJh[0;39m HikariPool-1 - Starting...
2023-04-28 23:21:17.794 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m9EF7BXJh[0;39m HikariPool-1 - Start completed.
2023-04-28 23:21:17.802 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m9EF7BXJh[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 23:21:17.834 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m9EF7BXJh[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 23:21:17.858 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32m9EF7BXJh[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 23:21:17.863 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32m9EF7BXJh[0;39m <==        Row: MImv816k, teacher\5qoz0KvqdaOMUqug08QCeO.jpg, back.jpg, jpg, 459815, T, 2023-04-28 18:16:08.135, 2023-04-28 18:16:08.135, 1, 5242880, 1, 5qoz0KvqdaOMUqug08QCeO
2023-04-28 23:21:17.865 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m9EF7BXJh[0;39m <==      Total: 1
2023-04-28 23:21:17.934 INFO  com.douding.server.config.LogAspect               :109  [32m9EF7BXJh[0;39m 返回结果: {"content":{"createdAt":1682676968135,"id":"MImv816k","key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","updatedAt":1682676968135,"use":"T"},"success":true}
2023-04-28 23:21:17.934 INFO  com.douding.server.config.LogAspect               :110  [32m9EF7BXJh[0;39m ------------- 结束 耗时：363 ms -------------
2023-04-28 23:22:09.362 INFO  com.douding.server.config.LogAspect               :76   [32mYdxRcuEa[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 23:22:09.363 INFO  com.douding.server.config.LogAspect               :77   [32mYdxRcuEa[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 23:22:09.363 INFO  com.douding.server.config.LogAspect               :78   [32mYdxRcuEa[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 23:22:09.364 INFO  com.douding.server.config.LogAspect               :79   [32mYdxRcuEa[0;39m 远程地址: 127.0.0.1
2023-04-28 23:22:09.364 INFO  com.douding.server.config.LogAspect               :97   [32mYdxRcuEa[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 23:22:09.365 INFO  com.douding.file.controller.admin.UploadController:154  [32mYdxRcuEa[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 23:22:09.367 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mYdxRcuEa[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 23:22:09.368 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mYdxRcuEa[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 23:22:09.370 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mYdxRcuEa[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 23:22:09.371 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mYdxRcuEa[0;39m <==        Row: MImv816k, teacher\5qoz0KvqdaOMUqug08QCeO.jpg, back.jpg, jpg, 459815, T, 2023-04-28 18:16:08.135, 2023-04-28 18:16:08.135, 1, 5242880, 1, 5qoz0KvqdaOMUqug08QCeO
2023-04-28 23:22:09.372 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mYdxRcuEa[0;39m <==      Total: 1
2023-04-28 23:22:09.373 INFO  com.douding.server.config.LogAspect               :109  [32mYdxRcuEa[0;39m 返回结果: {"content":{"createdAt":1682676968135,"id":"MImv816k","key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","updatedAt":1682676968135,"use":"T"},"success":true}
2023-04-28 23:22:09.373 INFO  com.douding.server.config.LogAspect               :110  [32mYdxRcuEa[0;39m ------------- 结束 耗时：11 ms -------------
2023-04-28 23:22:52.281 INFO  com.douding.server.config.LogAspect               :76   [32mcy5dtDjg[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 23:22:52.282 INFO  com.douding.server.config.LogAspect               :77   [32mcy5dtDjg[0;39m 请求地址: http://localhost:9003/file/admin/file/check/1oO6UspI0EsM2EEsUMMKQm GET
2023-04-28 23:22:52.282 INFO  com.douding.server.config.LogAspect               :78   [32mcy5dtDjg[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 23:22:52.283 INFO  com.douding.server.config.LogAspect               :79   [32mcy5dtDjg[0;39m 远程地址: 127.0.0.1
2023-04-28 23:22:52.284 INFO  com.douding.server.config.LogAspect               :97   [32mcy5dtDjg[0;39m 请求参数: ["1oO6UspI0EsM2EEsUMMKQm"]
2023-04-28 23:22:52.285 INFO  com.douding.file.controller.admin.UploadController:154  [32mcy5dtDjg[0;39m 检查上传分片开始：1oO6UspI0EsM2EEsUMMKQm
2023-04-28 23:22:52.287 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mcy5dtDjg[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 23:22:52.289 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mcy5dtDjg[0;39m ==> Parameters: 1oO6UspI0EsM2EEsUMMKQm(String)
2023-04-28 23:22:52.290 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mcy5dtDjg[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 23:22:52.292 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mcy5dtDjg[0;39m <==        Row: IML5OT6V, http://rts6tj99f.bkt.gdipper.com/deadExchange.png?, deadExchange.png, png, 45926, T, 2023-04-28 18:47:39.280, 2023-04-28 18:47:39.280, 1, 5242880, 1, 1oO6UspI0EsM2EEsUMMKQm
2023-04-28 23:22:52.293 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mcy5dtDjg[0;39m <==      Total: 1
2023-04-28 23:22:52.294 INFO  com.douding.server.config.LogAspect               :109  [32mcy5dtDjg[0;39m 返回结果: {"content":{"createdAt":1682678859280,"id":"IML5OT6V","key":"1oO6UspI0EsM2EEsUMMKQm","name":"deadExchange.png","path":"http://rts6tj99f.bkt.gdipper.com/deadExchange.png?","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":45926,"suffix":"png","updatedAt":1682678859280,"use":"T"},"success":true}
2023-04-28 23:22:52.295 INFO  com.douding.server.config.LogAspect               :110  [32mcy5dtDjg[0;39m ------------- 结束 耗时：14 ms -------------
2023-04-28 23:25:19.278 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 23:30:19.279 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 23:35:19.281 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 23:40:19.282 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 23:45:19.283 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 23:50:19.285 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 23:55:19.286 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 23:57:08.847 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :62   [32m        [0;39m Unregistering application API-FILE with eureka with status DOWN
2023-04-28 23:57:08.847 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682697428847, current=DOWN, previous=UP]
2023-04-28 23:57:08.847 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 23:57:08.855 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 23:57:08.895 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m        [0;39m HikariPool-1 - Shutdown initiated...
2023-04-28 23:57:08.897 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m        [0;39m HikariPool-1 - Shutdown completed.
2023-04-28 23:57:08.898 INFO  com.netflix.discovery.DiscoveryClient             :935  [32m        [0;39m Shutting down DiscoveryClient ...
2023-04-28 23:57:11.905 INFO  com.netflix.discovery.DiscoveryClient             :971  [32m        [0;39m Unregistering ...
2023-04-28 23:57:11.908 INFO  com.netflix.discovery.DiscoveryClient             :973  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - deregister  status: 200
2023-04-28 23:57:11.953 INFO  com.netflix.discovery.DiscoveryClient             :960  [32m        [0;39m Completed shut down of DiscoveryClient
2023-04-28 23:57:18.463 INFO  org.hibernate.validator.internal.util.Version     :21   [32m        [0;39m HV000001: Hibernate Validator 6.2.0.Final
2023-04-28 23:57:18.476 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m        [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-04-28 23:57:19.942 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :226  [32m        [0;39m Fetching config from server at : http://domain-config:8888/
2023-04-28 23:57:20.025 INFO  o.s.c.c.client.ConfigServicePropertySourceLocator :150  [32m        [0;39m Located environment: name=api-file, profiles=[dev], label=dev, version=null, state=null
2023-04-28 23:57:20.026 INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration    :109  [32m        [0;39m Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-class path resource [config/dev/api-file-dev.yml]'}]
2023-04-28 23:57:20.051 INFO  com.douding.file.config.FileApplication           :663  [32m        [0;39m The following profiles are active: dev
2023-04-28 23:57:20.595 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m        [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-04-28 23:57:20.596 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m        [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-04-28 23:57:20.609 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m        [0;39m Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-04-28 23:57:20.764 INFO  o.springframework.cloud.context.scope.GenericScope:283  [32m        [0;39m BeanFactory id=380c60a7-1499-3bde-81d0-a8c4254503d5
2023-04-28 23:57:21.306 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m        [0;39m Tomcat initialized with port(s): 9003 (http)
2023-04-28 23:57:21.312 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Initializing ProtocolHandler ["http-nio-9003"]
2023-04-28 23:57:21.312 INFO  org.apache.catalina.core.StandardService          :173  [32m        [0;39m Starting service [Tomcat]
2023-04-28 23:57:21.313 INFO  org.apache.catalina.core.StandardEngine           :173  [32m        [0;39m Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-04-28 23:57:21.448 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring embedded WebApplicationContext
2023-04-28 23:57:21.448 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m        [0;39m Root WebApplicationContext: initialization completed in 1379 ms
2023-04-28 23:57:22.539 WARN  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :61   [32m        [0;39m Unable to start LiveReload server
2023-04-28 23:57:23.791 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 23:57:23.823 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration:68   [32m        [0;39m Eureka HTTP Client uses RestTemplate.
2023-04-28 23:57:25.085 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 23:57:25.152 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger:82   [32m        [0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-04-28 23:57:25.206 INFO  o.s.cloud.netflix.eureka.InstanceInfoFactory      :67   [32m        [0;39m Setting initial instance status as: STARTING
2023-04-28 23:57:25.244 INFO  com.netflix.discovery.DiscoveryClient             :372  [32m        [0;39m Initializing Eureka in region us-east-1
2023-04-28 23:57:25.246 INFO  c.n.d.shared.resolver.aws.ConfigClusterResolver   :43   [32m        [0;39m Resolving eureka endpoints via configuration
2023-04-28 23:57:25.265 INFO  com.netflix.discovery.DiscoveryClient             :1007 [32m        [0;39m Disable delta property : false
2023-04-28 23:57:25.265 INFO  com.netflix.discovery.DiscoveryClient             :1008 [32m        [0;39m Single vip registry refresh property : null
2023-04-28 23:57:25.265 INFO  com.netflix.discovery.DiscoveryClient             :1009 [32m        [0;39m Force full registry fetch : false
2023-04-28 23:57:25.265 INFO  com.netflix.discovery.DiscoveryClient             :1010 [32m        [0;39m Application is null : false
2023-04-28 23:57:25.265 INFO  com.netflix.discovery.DiscoveryClient             :1011 [32m        [0;39m Registered Applications size is zero : true
2023-04-28 23:57:25.265 INFO  com.netflix.discovery.DiscoveryClient             :1013 [32m        [0;39m Application version is -1: true
2023-04-28 23:57:25.266 INFO  com.netflix.discovery.DiscoveryClient             :1097 [32m        [0;39m Getting all instance registry info from the eureka server
2023-04-28 23:57:25.416 INFO  com.netflix.discovery.DiscoveryClient             :1106 [32m        [0;39m The response status is 200
2023-04-28 23:57:25.421 INFO  com.netflix.discovery.DiscoveryClient             :1321 [32m        [0;39m Starting heartbeat executor: renew interval is: 30
2023-04-28 23:57:25.426 INFO  com.netflix.discovery.InstanceInfoReplicator      :60   [32m        [0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-04-28 23:57:25.436 INFO  com.netflix.discovery.DiscoveryClient             :492  [32m        [0;39m Discovery Client initialized at timestamp 1682697445435 with initial instances count: 4
2023-04-28 23:57:25.442 INFO  o.s.c.n.e.serviceregistry.EurekaServiceRegistry   :41   [32m        [0;39m Registering application API-FILE with eureka with status UP
2023-04-28 23:57:25.443 INFO  com.netflix.discovery.DiscoveryClient             :1352 [32m        [0;39m Saw local status change event StatusChangeEvent [timestamp=1682697445443, current=UP, previous=STARTING]
2023-04-28 23:57:25.444 INFO  com.netflix.discovery.DiscoveryClient             :873  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003: registering service...
2023-04-28 23:57:25.444 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m        [0;39m Starting ProtocolHandler ["http-nio-9003"]
2023-04-28 23:57:25.475 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m        [0;39m Tomcat started on port(s): 9003 (http) with context path '/file'
2023-04-28 23:57:25.476 INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration         :144  [32m        [0;39m Updating port to 9003
2023-04-28 23:57:25.487 INFO  com.netflix.discovery.DiscoveryClient             :882  [32m        [0;39m DiscoveryClient_API-FILE/localhost:api-file:9003 - registration status: 204
2023-04-28 23:57:26.798 INFO  org.springframework.cloud.commons.util.InetUtils  :170  [32m        [0;39m Cannot determine local hostname
2023-04-28 23:57:26.806 INFO  com.douding.file.config.FileApplication           :61   [32m        [0;39m Started FileApplication in 9.865 seconds (JVM running for 10.919)
2023-04-28 23:57:26.808 INFO  com.douding.file.config.FileApplication           :25   [32m        [0;39m 启动成功！！
2023-04-28 23:57:26.808 INFO  com.douding.file.config.FileApplication           :26   [32m        [0;39m File: 	http://127.0.0.1:9003
2023-04-28 23:58:17.639 INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/file]:173  [32m        [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-04-28 23:58:17.639 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m        [0;39m Initializing Servlet 'dispatcherServlet'
2023-04-28 23:58:17.640 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m        [0;39m Completed initialization in 1 ms
2023-04-28 23:58:17.666 INFO  com.douding.server.config.LogAspect               :76   [32mb2RYll3G[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 23:58:17.666 INFO  com.douding.server.config.LogAspect               :77   [32mb2RYll3G[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 23:58:17.666 INFO  com.douding.server.config.LogAspect               :78   [32mb2RYll3G[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 23:58:17.667 INFO  com.douding.server.config.LogAspect               :79   [32mb2RYll3G[0;39m 远程地址: 127.0.0.1
2023-04-28 23:58:17.695 INFO  com.douding.server.config.LogAspect               :97   [32mb2RYll3G[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 23:58:17.698 INFO  com.douding.file.controller.admin.UploadController:157  [32mb2RYll3G[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 23:58:17.730 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32mb2RYll3G[0;39m HikariPool-1 - Starting...
2023-04-28 23:58:17.824 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32mb2RYll3G[0;39m HikariPool-1 - Start completed.
2023-04-28 23:58:17.828 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mb2RYll3G[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 23:58:17.845 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mb2RYll3G[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 23:58:17.866 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mb2RYll3G[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 23:58:17.869 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32mb2RYll3G[0;39m <==        Row: MImv816k, teacher\5qoz0KvqdaOMUqug08QCeO.jpg, back.jpg, jpg, 459815, T, 2023-04-28 18:16:08.135, 2023-04-28 18:16:08.135, 1, 5242880, 1, 5qoz0KvqdaOMUqug08QCeO
2023-04-28 23:58:17.871 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32mb2RYll3G[0;39m <==      Total: 1
2023-04-28 23:58:17.924 INFO  com.douding.server.config.LogAspect               :109  [32mb2RYll3G[0;39m 返回结果: {"content":{"createdAt":1682676968135,"id":"MImv816k","key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","updatedAt":1682676968135,"use":"T"},"success":true}
2023-04-28 23:58:17.925 INFO  com.douding.server.config.LogAspect               :110  [32mb2RYll3G[0;39m ------------- 结束 耗时：261 ms -------------
2023-04-28 23:58:31.042 INFO  com.douding.server.config.LogAspect               :76   [32myo12seRT[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 23:58:31.043 INFO  com.douding.server.config.LogAspect               :77   [32myo12seRT[0;39m 请求地址: http://localhost:9003/file/admin/file/check/5qoz0KvqdaOMUqug08QCeO GET
2023-04-28 23:58:31.043 INFO  com.douding.server.config.LogAspect               :78   [32myo12seRT[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 23:58:31.043 INFO  com.douding.server.config.LogAspect               :79   [32myo12seRT[0;39m 远程地址: 127.0.0.1
2023-04-28 23:58:31.044 INFO  com.douding.server.config.LogAspect               :97   [32myo12seRT[0;39m 请求参数: ["5qoz0KvqdaOMUqug08QCeO"]
2023-04-28 23:58:31.044 INFO  com.douding.file.controller.admin.UploadController:157  [32myo12seRT[0;39m 检查上传分片开始：5qoz0KvqdaOMUqug08QCeO
2023-04-28 23:58:31.045 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32myo12seRT[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 23:58:31.046 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32myo12seRT[0;39m ==> Parameters: 5qoz0KvqdaOMUqug08QCeO(String)
2023-04-28 23:58:31.048 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32myo12seRT[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 23:58:31.049 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32myo12seRT[0;39m <==        Row: MImv816k, teacher\5qoz0KvqdaOMUqug08QCeO.jpg, back.jpg, jpg, 459815, T, 2023-04-28 18:16:08.135, 2023-04-28 18:16:08.135, 1, 5242880, 1, 5qoz0KvqdaOMUqug08QCeO
2023-04-28 23:58:31.050 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32myo12seRT[0;39m <==      Total: 1
2023-04-28 23:58:31.052 INFO  com.douding.server.config.LogAspect               :109  [32myo12seRT[0;39m 返回结果: {"content":{"createdAt":1682676968135,"id":"MImv816k","key":"5qoz0KvqdaOMUqug08QCeO","name":"back.jpg","path":"teacher\\5qoz0KvqdaOMUqug08QCeO.jpg","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":459815,"suffix":"jpg","updatedAt":1682676968135,"use":"T"},"success":true}
2023-04-28 23:58:31.052 INFO  com.douding.server.config.LogAspect               :110  [32myo12seRT[0;39m ------------- 结束 耗时：10 ms -------------
2023-04-28 23:59:54.721 INFO  com.douding.server.config.LogAspect               :76   [32m9S0g9Rko[0;39m ------------- 【文件上传】操作开始 -------------
2023-04-28 23:59:54.722 INFO  com.douding.server.config.LogAspect               :77   [32m9S0g9Rko[0;39m 请求地址: http://localhost:9003/file/admin/file/check/2DqIMx4vxWaUOuUk8MiQiE GET
2023-04-28 23:59:54.722 INFO  com.douding.server.config.LogAspect               :78   [32m9S0g9Rko[0;39m 类名方法: com.douding.file.controller.admin.UploadController.check
2023-04-28 23:59:54.723 INFO  com.douding.server.config.LogAspect               :79   [32m9S0g9Rko[0;39m 远程地址: 127.0.0.1
2023-04-28 23:59:54.724 INFO  com.douding.server.config.LogAspect               :97   [32m9S0g9Rko[0;39m 请求参数: ["2DqIMx4vxWaUOuUk8MiQiE"]
2023-04-28 23:59:54.724 INFO  com.douding.file.controller.admin.UploadController:157  [32m9S0g9Rko[0;39m 检查上传分片开始：2DqIMx4vxWaUOuUk8MiQiE
2023-04-28 23:59:54.726 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m9S0g9Rko[0;39m ==>  Preparing: select id, `path`, `name`, suffix, `size`, `use`, created_at, updated_at, shard_index, shard_size, shard_total, `key` from file WHERE ( `key` = ? ) 
2023-04-28 23:59:54.727 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m9S0g9Rko[0;39m ==> Parameters: 2DqIMx4vxWaUOuUk8MiQiE(String)
2023-04-28 23:59:54.729 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32m9S0g9Rko[0;39m <==    Columns: id, path, name, suffix, size, use, created_at, updated_at, shard_index, shard_size, shard_total, key
2023-04-28 23:59:54.731 TRACE c.douding.server.mapper.FileMapper.selectByExample:165  [32m9S0g9Rko[0;39m <==        Row: giBmaL3a, rts6tj99f.bkt.gdipper.comhttprts6tj99f.bkt.gdipper.comOIP-C.jpg?自定义的图片样式, httprts6tj99f.bkt.gdipper.comOIP-C.jpg, jpg, 39186, T, 2023-04-28 18:26:05.723, 2023-04-28 18:26:05.723, 1, 5242880, 1, 2DqIMx4vxWaUOuUk8MiQiE
2023-04-28 23:59:54.732 DEBUG c.douding.server.mapper.FileMapper.selectByExample:159  [32m9S0g9Rko[0;39m <==      Total: 1
2023-04-28 23:59:54.733 INFO  com.douding.server.config.LogAspect               :109  [32m9S0g9Rko[0;39m 返回结果: {"content":{"createdAt":1682677565723,"id":"giBmaL3a","key":"2DqIMx4vxWaUOuUk8MiQiE","name":"httprts6tj99f.bkt.gdipper.comOIP-C.jpg","path":"rts6tj99f.bkt.gdipper.comhttprts6tj99f.bkt.gdipper.comOIP-C.jpg?自定义的图片样式","shardIndex":1,"shardSize":5242880,"shardTotal":1,"size":39186,"suffix":"jpg","updatedAt":1682677565723,"use":"T"},"success":true}
2023-04-28 23:59:54.734 INFO  com.douding.server.config.LogAspect               :110  [32m9S0g9Rko[0;39m ------------- 结束 耗时：13 ms -------------
